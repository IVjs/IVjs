{"version":3,"sources":["webpack:///webpack/bootstrap c4a63a78eb93cd39819e","webpack:///./scripts/lib/utils.ts","webpack:///../node_modules/happy-helpers/lib/main.js","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///./scripts/lib/config.ts","webpack:///./scripts/lib/command-engine/command-engine.ts","webpack:///./scripts/lib/index.ts","webpack:///./scripts/lib/iv.ts","webpack:///./scripts/lib/node.ts","webpack:///./scripts/lib/node-builders/video/video-commands-builder.ts","webpack:///./scripts/lib/node-builders/button-commands-builder.ts","webpack:///./scripts/lib/command-engine/index.ts","webpack:///./scripts/lib/command-engine/dom-engine.ts","webpack:///./scripts/lib/command-engine/command-runner.ts","webpack:///../node_modules/eventemitter3/index.js","webpack:///./scripts/lib/partial-liquid.ts","webpack:///./test-support/dom-commands.ts","webpack:///./scripts/lib/command-engine/dom-commands/index.ts","webpack:///./scripts/lib/command-engine/dom-commands/video/play-video.ts","webpack:///./scripts/lib/command-engine/dom-commands/video/video-controller.ts","webpack:///./scripts/lib/command-engine/dom-commands/audio/audio-commands.ts","webpack:///./scripts/lib/command-engine/dom-commands/audio/audio-controller.ts","webpack:///./scripts/lib/command-engine/dom-commands/buttons/button-commands.ts","webpack:///./scripts/lib/command-engine/dom-commands/buttons/buttons-controller.ts","webpack:///./scripts/lib/command-engine/general-commands/index.ts","webpack:///./scripts/lib/command-engine/general-commands/assign-variable.ts","webpack:///./scripts/lib/command-engine/general-commands/assign-from-variable.ts","webpack:///./scripts/lib/command-engine/general-commands/get-random-number.ts","webpack:///./scripts/lib/command-engine/general-commands/switch.ts","webpack:///./scripts/lib/command-engine/general-commands/calculate.ts","webpack:///./scripts/lib/command-engine/general-commands/go-to-node.ts","webpack:///./scripts/lib/command-engine/general-commands/stop-execution.ts","webpack:///./scripts/lib/command-engine/general-commands/pause-execution.ts","webpack:///./scripts/lib/command-engine/general-commands/execute-sync.ts","webpack:///./scripts/lib/command-engine/general-commands/execute-async.ts","webpack:///./scripts/lib/command-engine/general-commands/wait.ts","webpack:///./scripts/lib/command-engine/log-commands/index.ts","webpack:///./scripts/lib/command-engine/log-commands/log.ts","webpack:///./scripts/lib/command-engine/unserializable-commands/index.ts","webpack:///./scripts/lib/command-engine/unserializable-commands/execute-js.ts","webpack:///../node_modules/mobile-detector/index.js"],"names":[],"mappings":"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;AACf,sBAAsB,GAAG;AACzB;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA,qFAAqF;AACrF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD,2CAA2C,cAAc,uloB;;;;;;;;;;;;;;;;;;;;;;;ACrSzD;AAAA;AACA;AACA,+DAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAM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AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yDAAyD,OAAO;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA,2DAA2D;AAC3D,+DAA+D;AAC/D,mEAAmE;AACnE,uEAAuE;AACvE;AACA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,aAAa;AAC1B;AACA;A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","file":"iv.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c4a63a78eb93cd39819e","import { toType, traverseObject } from 'happy-helpers';\nimport { qsaToArray } from '../../test-support/dom-commands';\nexport { qsaToArray }\n\nexport function getRandomInt(min: number, max: number): number {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport function wait(time?: number) {\n  return new Promise(res => {\n    setTimeout(res, time);\n  })\n}\n\nfunction safeCloneObject<T extends object>(obj: T): T {\n  const outgoing = {} as T;\n  traverseObject(obj, (prop, value) => {\n    if (toType(value) === 'array') {\n      outgoing[prop] = nearClone(value);\n    } else if (toType(value) === 'object') {\n      outgoing[prop] = safeCloneObject(value);\n    } else {\n      outgoing[prop] = value;\n    }\n  }, false, false);\n  return outgoing;\n}\n\nexport function nearClone<T extends any>(obj: T): T {\n  const type = toType(obj);\n\n  if (type === 'object') {\n    return safeCloneObject(obj);\n  } else if (type === 'array') {\n    return obj.map(x => nearClone(x))\n  } else {\n    return obj;\n  }\n}\n\nexport function directDescendants(element: HTMLElement, selector): HTMLElement[] | [null] {\n  const oldClass = element.getAttribute('class');\n  element.setAttribute('class', oldClass + \" IV-searching\");\n  const qsa: NodeListOf<HTMLElement> = (element.parentNode as HTMLElement).querySelectorAll('.IV-searching > ' + selector);\n  element.setAttribute('class', oldClass);\n  return qsaToArray(qsa);\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/utils.ts","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.main = mod.exports;\n  }\n})(this, function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.toType = toType;\n  exports.round = round;\n  exports.clone = clone;\n  exports.isEmpty = isEmpty;\n  exports.isNotEmpty = isNotEmpty;\n  exports.wrapObjectWithProperty = wrapObjectWithProperty;\n  exports.isObject = isObject;\n  exports.traverseObject = traverseObject;\n  exports.nestedPropertyDetails = nestedPropertyDetails;\n  exports.nestedPropertyTest = nestedPropertyTest;\n  exports.nestedPropertyExists = nestedPropertyExists;\n  exports.changePropsInitialCase = changePropsInitialCase;\n  exports.firstCharToUpper = firstCharToUpper;\n  exports.firstCharToLower = firstCharToLower;\n  exports.convertPropKeysForAsp = convertPropKeysForAsp;\n  exports.convertPropKeysForJs = convertPropKeysForJs;\n  exports.valuesArrayFromObject = valuesArrayFromObject;\n  exports.objectContainsValue = objectContainsValue;\n  exports.objectKeyForValue = objectKeyForValue;\n  exports.forceArray = forceArray;\n  exports.stringify = stringify;\n  exports.mediaWidth = mediaWidth;\n  exports.mediaHeight = mediaHeight;\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  function _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n      }\n\n      return arr2;\n    } else {\n      return Array.from(arr);\n    }\n  }\n\n  // see https://javascriptweblog.wordpress.com/2011/08/08/fixing-the-javascript-typeof-operator/\n  // via http://stackoverflow.com/a/7390612/1386201\n  /*\n      toType({a: 4}); //\"object\"\n      toType([1, 2, 3]); //\"array\"\n      (function() {console.log(toType(arguments))})(); //\"arguments\"\n      toType(new ReferenceError); //\"error\"\n      toType(new Date); //\"date\"\n      toType(/a-z/); //\"regexp\"\n      toType(Math); //\"math\"\n      toType(JSON); //\"json\"\n      toType(new Number(4)); //\"number\"\n      toType(new String(\"abc\")); //\"string\"\n      toType(new Boolean(true)); //\"boolean\"\n      toType(null); //\"null\"\n      toType(); //\"undefined\"\n      toType( () => {} ); //\"function\"\n  */\n  function toType(val) {\n    return {}.toString.call(val).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();\n  }\n\n  function round(value, decimals) {\n    decimals = decimals === undefined ? 2 : decimals;\n    return Number(Math.round(value + 'e' + decimals) + 'e-' + decimals);\n  }\n\n  function clone(obj) {\n    return JSON.parse(JSON.stringify(obj));\n  }\n\n  function isEmpty(val) {\n    var emptyTypes = ['null', 'undefined'];\n    var checkableTypes = ['object', 'array', 'arguments', 'json', 'string'];\n    var type = toType(val);\n    if (emptyTypes.indexOf(type) > -1) {\n      return true;\n    }\n    if (checkableTypes.indexOf(type) > -1) {\n      if (type === 'string') return val.length === 0; // IE fails on the next line if a string.\n      if (Object.getOwnPropertyNames(val).length === 0) return true;\n      return val.length === 0;\n    }\n    // other types return false because they are, by nature, filled ()\n    return false;\n  }\n\n  function isNotEmpty(val) {\n    return !isEmpty(val);\n  }\n\n  function wrapObjectWithProperty(obj, propName) {\n    var preserveOriginal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n    var wrapper = {};\n    var newObj = preserveOriginal ? clone(obj) : obj;\n    wrapper[propName] = newObj;\n    return wrapper;\n  }\n\n  function isObject(x) {\n    return toType(x) === 'object';\n  }\n\n  // Traverses an object.\n  // callback should return an array with a key, then a value if constructing a\n  // new object is desired. Kind of like Array.map, but for objects\n  function traverseObject(obj, callback) {\n    var recursive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var preserveOriginal = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n    var newObject = preserveOriginal ? clone(obj) : obj;\n    var returnedObj = {};\n    for (var key in newObject) {\n      if (newObject.hasOwnProperty(key) === false) continue;\n      if (isObject(newObject[key]) && recursive) {\n        var argsMinusFirst = [].concat(Array.prototype.slice.call(arguments)).slice(1);\n        var recursedObject = traverseObject.apply(this, [newObject[key]].concat(_toConsumableArray(argsMinusFirst)));\n        if (!isEmpty(recursedObject)) {\n          newObject[key] = recursedObject;\n        }\n      }\n      var keyValArray = callback(key, newObject[key]);\n      if (Array.isArray(keyValArray) && keyValArray.length === 2) {\n        returnedObj[keyValArray[0]] = keyValArray[1];\n      } else if (!isEmpty(keyValArray)) {\n        throw new Error('It looks like you might have been trying to construct a new object, but you returned something other than an array that looks like [key, value]. You returned ' + keyValArray);\n      }\n    }\n    return returnedObj;\n  }\n\n  function nestedPropertyDetails(obj, propertyPathString) {\n    var pathParts = propertyPathString.split('.');\n    var reducedObj = clone(obj);\n    var exists = true;\n    var existingPath = [];\n    while (exists && pathParts.length > 0) {\n      var newPart = pathParts.shift();\n      if (reducedObj[newPart]) {\n        existingPath.push(newPart);\n        reducedObj = reducedObj[newPart];\n      } else {\n        exists = false;\n      }\n    }\n    return { exists: exists, existingPath: existingPath.join('.'), finalValidProperty: reducedObj };\n  }\n\n  function nestedPropertyTest(obj, propertyPathString, callback) {\n    var details = nestedPropertyDetails(obj, propertyPathString);\n    if (details.exists) {\n      return !!callback(details.finalValidProperty);\n    }\n    return false;\n  }\n\n  function nestedPropertyExists(obj, propertyPathString) {\n    return nestedPropertyDetails(obj, propertyPathString).exists;\n  }\n\n  function changePropsInitialCase(obj, whichCase) {\n    var recursive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var preserveOriginal = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n    var makeAspVersion = whichCase === 'UpperFirst' ? true : false;\n    var newObj = preserveOriginal ? clone(obj) : obj;\n    var regex = makeAspVersion ? /[a-z]/ : /[A-z]/;\n    return traverseObject(newObj, function (key, prop) {\n      var originals = [key, prop];\n      if (typeof key !== 'string') return originals;\n      if (key.charAt(0).match(regex) === null) return originals;\n      var newKey = makeAspVersion ? firstCharToUpper(key) : firstCharToLower(key);\n      return [newKey, prop];\n    }, recursive);\n  }\n\n  function firstCharToUpper(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  function firstCharToLower(string) {\n    return string.charAt(0).toLowerCase() + string.slice(1);\n  }\n\n  function convertPropKeysForAsp(obj) {\n    return changePropsInitialCase(obj, 'UpperFirst', true);\n  }\n\n  function convertPropKeysForJs(obj) {\n    return changePropsInitialCase(obj, 'lowerFirst', true);\n  }\n\n  function valuesArrayFromObject(obj) {\n    if (!isObject(obj)) {\n      throw new Error('\\'obj\\' was not an object. Was ' + toType(obj));\n    }\n    return Object.keys(obj).map(function (key) {\n      return obj[key];\n    });\n  }\n\n  function objectContainsValue(val, obj) {\n    return valuesArrayFromObject(obj).indexOf(val) !== -1;\n  }\n\n  function objectKeyForValue(val, obj) {\n    if (!objectContainsValue(val, obj)) return false;\n    return Object.keys(obj).reduce(function (a, currentKey) {\n      if (obj[currentKey] === val) {\n        a = currentKey;\n      }\n      return a;\n    }, '');\n  }\n\n  function forceArray(val) {\n    var emptyReturns = ['null', 'undefined'];\n    if (emptyReturns.indexOf(toType(val)) != -1) return [];\n    if (toType(val) !== 'array') {\n      return [val];\n    }\n    return val;\n  }\n\n  var noCircularRefs = function noCircularRefs() {\n    var valCache = [];\n    var keyCache = [];\n    var isFirstRun = true;\n\n    return function (key, value) {\n      if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null) {\n        if (isFirstRun) {\n          key = '__BASE_OBJECT__'; // eslint-disable-line no-param-reassign\n          isFirstRun = false;\n        }\n        var indexOfFoundValue = valCache.indexOf(value);\n        if (indexOfFoundValue !== -1) {\n          // Circular reference found, discard key\n          return '[circular reference of ' + keyCache[indexOfFoundValue] + ']';\n        }\n        // Store value in our collection\n        valCache.push(value);\n        keyCache.push(key);\n      }\n      return value; // eslint-disable-line consistent-return\n    };\n  };\n\n  function stringify(obj) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        tabLength = _ref.tabLength,\n        stripQuotes = _ref.stripQuotes;\n\n    var string = JSON.stringify(obj, noCircularRefs(), tabLength || 2);\n    if (stripQuotes) {\n      string = string.replace(/\"(.*?)\": /g, '$1: ');\n    }\n    return string;\n  }\n\n  /*\n    The following are not tested with `npm test` and are unreliable for certain situations.\n    see http://stackoverflow.com/a/8876069\n  */\n  function mediaWidth() {\n    return Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n  }\n\n  function mediaHeight() {\n    return Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9tYWluLmpzIl0sIm5hbWVzIjpbInRvVHlwZSIsInJvdW5kIiwiY2xvbmUiLCJpc0VtcHR5IiwiaXNOb3RFbXB0eSIsIndyYXBPYmplY3RXaXRoUHJvcGVydHkiLCJpc09iamVjdCIsInRyYXZlcnNlT2JqZWN0IiwibmVzdGVkUHJvcGVydHlEZXRhaWxzIiwibmVzdGVkUHJvcGVydHlUZXN0IiwibmVzdGVkUHJvcGVydHlFeGlzdHMiLCJjaGFuZ2VQcm9wc0luaXRpYWxDYXNlIiwiZmlyc3RDaGFyVG9VcHBlciIsImZpcnN0Q2hhclRvTG93ZXIiLCJjb252ZXJ0UHJvcEtleXNGb3JBc3AiLCJjb252ZXJ0UHJvcEtleXNGb3JKcyIsInZhbHVlc0FycmF5RnJvbU9iamVjdCIsIm9iamVjdENvbnRhaW5zVmFsdWUiLCJvYmplY3RLZXlGb3JWYWx1ZSIsImZvcmNlQXJyYXkiLCJzdHJpbmdpZnkiLCJtZWRpYVdpZHRoIiwibWVkaWFIZWlnaHQiLCJ2YWwiLCJ0b1N0cmluZyIsImNhbGwiLCJtYXRjaCIsInRvTG93ZXJDYXNlIiwidmFsdWUiLCJkZWNpbWFscyIsInVuZGVmaW5lZCIsIk51bWJlciIsIk1hdGgiLCJvYmoiLCJKU09OIiwicGFyc2UiLCJlbXB0eVR5cGVzIiwiY2hlY2thYmxlVHlwZXMiLCJ0eXBlIiwiaW5kZXhPZiIsImxlbmd0aCIsIk9iamVjdCIsImdldE93blByb3BlcnR5TmFtZXMiLCJwcm9wTmFtZSIsInByZXNlcnZlT3JpZ2luYWwiLCJ3cmFwcGVyIiwibmV3T2JqIiwieCIsImNhbGxiYWNrIiwicmVjdXJzaXZlIiwibmV3T2JqZWN0IiwicmV0dXJuZWRPYmoiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsImFyZ3NNaW51c0ZpcnN0IiwiYXJndW1lbnRzIiwic2xpY2UiLCJyZWN1cnNlZE9iamVjdCIsImFwcGx5Iiwia2V5VmFsQXJyYXkiLCJBcnJheSIsImlzQXJyYXkiLCJFcnJvciIsInByb3BlcnR5UGF0aFN0cmluZyIsInBhdGhQYXJ0cyIsInNwbGl0IiwicmVkdWNlZE9iaiIsImV4aXN0cyIsImV4aXN0aW5nUGF0aCIsIm5ld1BhcnQiLCJzaGlmdCIsInB1c2giLCJqb2luIiwiZmluYWxWYWxpZFByb3BlcnR5IiwiZGV0YWlscyIsIndoaWNoQ2FzZSIsIm1ha2VBc3BWZXJzaW9uIiwicmVnZXgiLCJwcm9wIiwib3JpZ2luYWxzIiwiY2hhckF0IiwibmV3S2V5Iiwic3RyaW5nIiwidG9VcHBlckNhc2UiLCJrZXlzIiwibWFwIiwicmVkdWNlIiwiYSIsImN1cnJlbnRLZXkiLCJlbXB0eVJldHVybnMiLCJub0NpcmN1bGFyUmVmcyIsInZhbENhY2hlIiwia2V5Q2FjaGUiLCJpc0ZpcnN0UnVuIiwiaW5kZXhPZkZvdW5kVmFsdWUiLCJ0YWJMZW5ndGgiLCJzdHJpcFF1b3RlcyIsInJlcGxhY2UiLCJtYXgiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImNsaWVudEhlaWdodCIsImlubmVySGVpZ2h0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7VUFrQmdCQSxNLEdBQUFBLE07VUFJQUMsSyxHQUFBQSxLO1VBS0FDLEssR0FBQUEsSztVQUlBQyxPLEdBQUFBLE87VUFjQUMsVSxHQUFBQSxVO1VBSUFDLHNCLEdBQUFBLHNCO1VBT0FDLFEsR0FBQUEsUTtVQU9BQyxjLEdBQUFBLGM7VUFzQkFDLHFCLEdBQUFBLHFCO1VBaUJBQyxrQixHQUFBQSxrQjtVQVFBQyxvQixHQUFBQSxvQjtVQUlBQyxzQixHQUFBQSxzQjtVQWFBQyxnQixHQUFBQSxnQjtVQUlBQyxnQixHQUFBQSxnQjtVQUlBQyxxQixHQUFBQSxxQjtVQUlBQyxvQixHQUFBQSxvQjtVQUlBQyxxQixHQUFBQSxxQjtVQU9BQyxtQixHQUFBQSxtQjtVQUlBQyxpQixHQUFBQSxpQjtVQVFBQyxVLEdBQUFBLFU7VUFpQ0FDLFMsR0FBQUEsUztVQVlBQyxVLEdBQUFBLFU7VUFJQUMsVyxHQUFB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bWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHNlZSBodHRwczovL2phdmFzY3JpcHR3ZWJsb2cud29yZHByZXNzLmNvbS8yMDExLzA4LzA4L2ZpeGluZy10aGUtamF2YXNjcmlwdC10eXBlb2Ytb3BlcmF0b3IvXG4vLyB2aWEgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNzM5MDYxMi8xMzg2MjAxXG4vKlxuICAgIHRvVHlwZSh7YTogNH0pOyAvL1wib2JqZWN0XCJcbiAgICB0b1R5cGUoWzEsIDIsIDNdKTsgLy9cImFycmF5XCJcbiAgICAoZnVuY3Rpb24oKSB7Y29uc29sZS5sb2codG9UeXBlKGFyZ3VtZW50cykpfSkoKTsgLy9cImFyZ3VtZW50c1wiXG4gICAgdG9UeXBlKG5ldyBSZWZlcmVuY2VFcnJvcik7IC8vXCJlcnJvclwiXG4gICAgdG9UeXBlKG5ldyBEYXRlKTsgLy9cImRhdGVcIlxuICAgIHRvVHlwZSgvYS16Lyk7IC8vXCJyZWdleHBcIlxuICAgIHRvVHlwZShNYXRoKTsgLy9cIm1hdGhcIlxuICAgIHRvVHlwZShKU09OKTsgLy9cImpzb25cIlxuICAgIHRvVHlwZShuZXcgTnVtYmVyKDQpKTsgLy9cIm51bWJlclwiXG4gICAgdG9UeXBlKG5ldyBTdHJpbmcoXCJhYmNcIikpOyAvL1wic3RyaW5nXCJcbiAgICB0b1R5cGUobmV3IEJvb2xlYW4odHJ1ZSkpOyAvL1wiYm9vbGVhblwiXG4gICAgdG9UeXBlKG51bGwpOyAvL1wibnVsbFwiXG4gICAgdG9UeXBlKCk7IC8vXCJ1bmRlZmluZWRcIlxuICAgIHRvVHlwZSggKCkgPT4ge30gKTsgLy9cImZ1bmN0aW9uXCJcbiovXG5leHBvcnQgZnVuY3Rpb24gdG9UeXBlICh2YWwpIHtcbiAgcmV0dXJuICh7fSkudG9TdHJpbmcuY2FsbCh2YWwpLm1hdGNoKC9cXHMoW2EtekEtWl0rKS8pWzFdLnRvTG93ZXJDYXNlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZCh2YWx1ZSwgZGVjaW1hbHMpIHtcbiAgZGVjaW1hbHMgPSBkZWNpbWFscyA9PT0gdW5kZWZpbmVkID8gMiA6IGRlY2ltYWxzO1xuICByZXR1cm4gTnVtYmVyKE1hdGgucm91bmQodmFsdWUrJ2UnK2RlY2ltYWxzKSsnZS0nK2RlY2ltYWxzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKG9iaikge1xuICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkgKHZhbCkge1xuICBsZXQgZW1wdHlUeXBlcyA9IFsnbnVsbCcsICd1bmRlZmluZWQnXTtcbiAgbGV0IGNoZWNrYWJsZVR5cGVzID0gWydvYmplY3QnLCAnYXJyYXknLCAnYXJndW1lbnRzJywgJ2pzb24nLCAnc3RyaW5nJ107XG4gIGxldCB0eXBlID0gdG9UeXBlKHZhbCk7XG4gIGlmIChlbXB0eVR5cGVzLmluZGV4T2YodHlwZSkgPiAtMSkgeyByZXR1cm4gdHJ1ZTsgfVxuICBpZiAoY2hlY2thYmxlVHlwZXMuaW5kZXhPZih0eXBlKSA+IC0xKSB7XG4gICAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSByZXR1cm4gdmFsLmxlbmd0aCA9PT0gMDsgLy8gSUUgZmFpbHMgb24gdGhlIG5leHQgbGluZSBpZiBhIHN0cmluZy5cbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsKS5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICAgIHJldHVybiB2YWwubGVuZ3RoID09PSAwO1xuICB9XG4gIC8vIG90aGVyIHR5cGVzIHJldHVybiBmYWxzZSBiZWNhdXNlIHRoZXkgYXJlLCBieSBuYXR1cmUsIGZpbGxlZCAoKVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc05vdEVtcHR5ICh2YWwpIHtcbiAgcmV0dXJuICFpc0VtcHR5KHZhbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwT2JqZWN0V2l0aFByb3BlcnR5IChvYmosIHByb3BOYW1lLCBwcmVzZXJ2ZU9yaWdpbmFsID0gdHJ1ZSkge1xuICBsZXQgd3JhcHBlciA9IHt9O1xuICBsZXQgbmV3T2JqID0gcHJlc2VydmVPcmlnaW5hbCA/IGNsb25lKG9iaikgOiBvYmo7XG4gIHdyYXBwZXJbcHJvcE5hbWVdID0gbmV3T2JqO1xuICByZXR1cm4gd3JhcHBlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHgpIHtcbiAgcmV0dXJuICggdG9UeXBlKHgpID09PSAnb2JqZWN0JyApO1xufVxuXG4vLyBUcmF2ZXJzZXMgYW4gb2JqZWN0LlxuLy8gY2FsbGJhY2sgc2hvdWxkIHJldHVybiBhbiBhcnJheSB3aXRoIGEga2V5LCB0aGVuIGEgdmFsdWUgaWYgY29uc3RydWN0aW5nIGFcbi8vIG5ldyBvYmplY3QgaXMgZGVzaXJlZC4gS2luZCBvZiBsaWtlIEFycmF5Lm1hcCwgYnV0IGZvciBvYmplY3RzXG5leHBvcnQgZnVuY3Rpb24gdHJhdmVyc2VPYmplY3QgKG9iaiwgY2FsbGJhY2ssIHJlY3Vyc2l2ZSA9IGZhbHNlLCBwcmVzZXJ2ZU9yaWdpbmFsID0gdHJ1ZSkge1xuICBsZXQgbmV3T2JqZWN0ID0gcHJlc2VydmVPcmlnaW5hbCA/IGNsb25lKG9iaikgOiBvYmo7XG4gIGxldCByZXR1cm5lZE9iaiA9IHt9O1xuICBmb3IgKGxldCBrZXkgaW4gbmV3T2JqZWN0KSB7XG4gICAgaWYgKG5ld09iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpID09PSBmYWxzZSkgY29udGludWU7XG4gICAgaWYgKCBpc09iamVjdChuZXdPYmplY3Rba2V5XSkgJiYgcmVjdXJzaXZlICkge1xuICAgICAgbGV0IGFyZ3NNaW51c0ZpcnN0ID0gWy4uLmFyZ3VtZW50c10uc2xpY2UoMSk7XG4gICAgICBsZXQgcmVjdXJzZWRPYmplY3QgPSB0cmF2ZXJzZU9iamVjdC5hcHBseSh0aGlzLCBbbmV3T2JqZWN0W2tleV0sIC4uLmFyZ3NNaW51c0ZpcnN0XSk7XG4gICAgICBpZiAoIWlzRW1wdHkocmVjdXJzZWRPYmplY3QpKSB7XG4gICAgICAgIG5ld09iamVjdFtrZXldID0gcmVjdXJzZWRPYmplY3Q7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBrZXlWYWxBcnJheSA9IGNhbGxiYWNrKGtleSwgbmV3T2JqZWN0W2tleV0pO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGtleVZhbEFycmF5KSAmJiBrZXlWYWxBcnJheS5sZW5ndGggPT09IDIpIHtcbiAgICAgIHJldHVybmVkT2JqW2tleVZhbEFycmF5WzBdXSA9IGtleVZhbEFycmF5WzFdO1xuICAgIH0gZWxzZSBpZiAoIWlzRW1wdHkoa2V5VmFsQXJyYXkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEl0IGxvb2tzIGxpa2UgeW91IG1pZ2h0IGhhdmUgYmVlbiB0cnlpbmcgdG8gY29uc3RydWN0IGEgbmV3IG9iamVjdCwgYnV0IHlvdSByZXR1cm5lZCBzb21ldGhpbmcgb3RoZXIgdGhhbiBhbiBhcnJheSB0aGF0IGxvb2tzIGxpa2UgW2tleSwgdmFsdWVdLiBZb3UgcmV0dXJuZWQgJHtrZXlWYWxBcnJheX1gKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldHVybmVkT2JqO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmVzdGVkUHJvcGVydHlEZXRhaWxzIChvYmosIHByb3BlcnR5UGF0aFN0cmluZykge1xuICBsZXQgcGF0aFBhcnRzID0gcHJvcGVydHlQYXRoU3RyaW5nLnNwbGl0KCcuJyk7XG4gIGxldCByZWR1Y2VkT2JqID0gY2xvbmUob2JqKTtcbiAgbGV0IGV4aXN0cyA9IHRydWU7XG4gIGxldCBleGlzdGluZ1BhdGggPSBbXTtcbiAgd2hpbGUgKGV4aXN0cyAmJiBwYXRoUGFydHMubGVuZ3RoID4gMCkge1xuICAgIGxldCBuZXdQYXJ0ID0gcGF0aFBhcnRzLnNoaWZ0KCk7XG4gICAgaWYgKHJlZHVjZWRPYmpbbmV3UGFydF0pIHtcbiAgICAgIGV4aXN0aW5nUGF0aC5wdXNoKG5ld1BhcnQpO1xuICAgICAgcmVkdWNlZE9iaiA9IHJlZHVjZWRPYmpbbmV3UGFydF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0cyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge2V4aXN0czogZXhpc3RzLCBleGlzdGluZ1BhdGg6IGV4aXN0aW5nUGF0aC5qb2luKCcuJyksIGZpbmFsVmFsaWRQcm9wZXJ0eTogcmVkdWNlZE9ian07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXN0ZWRQcm9wZXJ0eVRlc3QgKG9iaiwgcHJvcGVydHlQYXRoU3RyaW5nLCBjYWxsYmFjaykge1xuICBsZXQgZGV0YWlscyA9IG5lc3RlZFByb3BlcnR5RGV0YWlscyhvYmosIHByb3BlcnR5UGF0aFN0cmluZyk7XG4gIGlmIChkZXRhaWxzLmV4aXN0cykge1xuICAgIHJldHVybiAhIWNhbGxiYWNrKGRldGFpbHMuZmluYWxWYWxpZFByb3BlcnR5KTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXN0ZWRQcm9wZXJ0eUV4aXN0cyAob2JqLCBwcm9wZXJ0eVBhdGhTdHJpbmcpIHtcbiAgcmV0dXJuIG5lc3RlZFByb3BlcnR5RGV0YWlscyhvYmosIHByb3BlcnR5UGF0aFN0cmluZykuZXhpc3RzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlUHJvcHNJbml0aWFsQ2FzZSAob2JqLCB3aGljaENhc2UsIHJlY3Vyc2l2ZSA9IGZhbHNlLCBwcmVzZXJ2ZU9yaWdpbmFsID0gdHJ1ZSkge1xuICBsZXQgbWFrZUFzcFZlcnNpb24gPSAod2hpY2hDYXNlID09PSAnVXBwZXJGaXJzdCcpID8gdHJ1ZSA6IGZhbHNlIDtcbiAgbGV0IG5ld09iaiA9IHByZXNlcnZlT3JpZ2luYWwgPyBjbG9uZShvYmopIDogb2JqO1xuICBsZXQgcmVnZXggPSBtYWtlQXNwVmVyc2lvbiA/IC9bYS16XS8gOiAvW0Etel0vO1xuICByZXR1cm4gdHJhdmVyc2VPYmplY3QobmV3T2JqLCAoa2V5LCBwcm9wKSA9PiB7XG4gICAgbGV0IG9yaWdpbmFscyA9IFtrZXksIHByb3BdO1xuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykgcmV0dXJuIG9yaWdpbmFscztcbiAgICBpZiAoa2V5LmNoYXJBdCgwKS5tYXRjaChyZWdleCkgPT09IG51bGwpIHJldHVybiBvcmlnaW5hbHM7XG4gICAgbGV0IG5ld0tleSA9IG1ha2VBc3BWZXJzaW9uID8gZmlyc3RDaGFyVG9VcHBlcihrZXkpIDogZmlyc3RDaGFyVG9Mb3dlcihrZXkpO1xuICAgIHJldHVybiBbbmV3S2V5LCBwcm9wXTtcbiAgfSwgcmVjdXJzaXZlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0Q2hhclRvVXBwZXIgKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlyc3RDaGFyVG9Mb3dlciAoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0UHJvcEtleXNGb3JBc3AgKG9iaikge1xuICByZXR1cm4gY2hhbmdlUHJvcHNJbml0aWFsQ2FzZShvYmosICdVcHBlckZpcnN0JywgdHJ1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0UHJvcEtleXNGb3JKcyAob2JqKSB7XG4gIHJldHVybiBjaGFuZ2VQcm9wc0luaXRpYWxDYXNlKG9iaiwgJ2xvd2VyRmlyc3QnLCB0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbHVlc0FycmF5RnJvbU9iamVjdCAob2JqKSB7XG4gIGlmICghaXNPYmplY3Qob2JqKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJ29iaicgd2FzIG5vdCBhbiBvYmplY3QuIFdhcyAke3RvVHlwZShvYmopfWApO1xuICB9XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChrZXkgPT4gb2JqW2tleV0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0Q29udGFpbnNWYWx1ZSAodmFsLCBvYmopIHtcbiAgcmV0dXJuIHZhbHVlc0FycmF5RnJvbU9iamVjdChvYmopLmluZGV4T2YodmFsKSAhPT0gLTE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3RLZXlGb3JWYWx1ZSAodmFsLCBvYmopIHtcbiAgaWYgKCFvYmplY3RDb250YWluc1ZhbHVlKHZhbCwgb2JqKSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoKGEsIGN1cnJlbnRLZXkpID0+IHtcbiAgICBpZiAob2JqW2N1cnJlbnRLZXldID09PSB2YWwpIHthID0gY3VycmVudEtleTt9XG4gICAgcmV0dXJuIGE7XG4gIH0sICcnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcmNlQXJyYXkgKHZhbCkge1xuICBjb25zdCBlbXB0eVJldHVybnMgPSBbJ251bGwnLCAndW5kZWZpbmVkJ107XG4gIGlmIChlbXB0eVJldHVybnMuaW5kZXhPZih0b1R5cGUodmFsKSkgIT0gLTEpIHJldHVybiBbXTtcbiAgaWYgKHRvVHlwZSh2YWwpICE9PSAnYXJyYXknKSB7XG4gICAgcmV0dXJuIFt2YWxdO1xuICB9XG4gIHJldHVybiB2YWw7XG59XG5cbmNvbnN0IG5vQ2lyY3VsYXJSZWZzID0gKCkgPT4ge1xuICBjb25zdCB2YWxDYWNoZSA9IFtdO1xuICBjb25zdCBrZXlDYWNoZSA9IFtdO1xuICBsZXQgaXNGaXJzdFJ1biA9IHRydWU7XG5cbiAgcmV0dXJuIChrZXksIHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgIGlmIChpc0ZpcnN0UnVuKSB7XG4gICAgICAgIGtleSA9ICdfX0JBU0VfT0JKRUNUX18nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGlzRmlyc3RSdW4gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGluZGV4T2ZGb3VuZFZhbHVlID0gdmFsQ2FjaGUuaW5kZXhPZih2YWx1ZSk7XG4gICAgICBpZiAoaW5kZXhPZkZvdW5kVmFsdWUgIT09IC0xKSB7XG4gICAgICAgIC8vIENpcmN1bGFyIHJlZmVyZW5jZSBmb3VuZCwgZGlzY2FyZCBrZXlcbiAgICAgICAgcmV0dXJuIGBbY2lyY3VsYXIgcmVmZXJlbmNlIG9mICR7a2V5Q2FjaGVbaW5kZXhPZkZvdW5kVmFsdWVdfV1gO1xuICAgICAgfVxuICAgICAgLy8gU3RvcmUgdmFsdWUgaW4gb3VyIGNvbGxlY3Rpb25cbiAgICAgIHZhbENhY2hlLnB1c2godmFsdWUpO1xuICAgICAga2V5Q2FjaGUucHVzaChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgfTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnkgKG9iaiwge3RhYkxlbmd0aDogdGFiTGVuZ3RoLCBzdHJpcFF1b3Rlczogc3RyaXBRdW90ZXN9ID0ge30pIHtcbiAgbGV0IHN0cmluZyA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbm9DaXJjdWxhclJlZnMoKSwgdGFiTGVuZ3RoIHx8IDIpO1xuICBpZiAoc3RyaXBRdW90ZXMpIHtcbiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXCIoLio/KVwiOiAvZywgJyQxOiAnKTtcbiAgfVxuICByZXR1cm4gc3RyaW5nO1xufVxuXG4vKlxuICBUaGUgZm9sbG93aW5nIGFyZSBub3QgdGVzdGVkIHdpdGggYG5wbSB0ZXN0YCBhbmQgYXJlIHVucmVsaWFibGUgZm9yIGNlcnRhaW4gc2l0dWF0aW9ucy5cbiAgc2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzg4NzYwNjlcbiovXG5leHBvcnQgZnVuY3Rpb24gbWVkaWFXaWR0aCAoKSB7XG4gIHJldHVybiBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVkaWFIZWlnaHQgKCkge1xuICByZXR1cm4gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IDApO1xufVxuIl19\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/happy-helpers/lib/main.js\n// module id = 1\n// module chunks = 0 1","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/tslib/tslib.es6.js\n// module id = 2\n// module chunks = 0 1","export const defaults = {\n  baseElementId: 'IV-view',\n  buttonContainerClass: 'IV-button-container',\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/config.ts","export function createEngine(input: CommandEngine.ctor, ...functionFactories) {\n  const { settings, nodes, commandRunnerClass, variables } = input;\n  const engine = new IvCommandEngine(settings, nodes, commandRunnerClass, variables);\n\n  functionFactories.forEach(factory => {\n    engine.registerTargetFunction(factory);\n  })\n\n  return engine;\n}\n\nexport class IvCommandEngine implements CommandEngine.Class {\n  private targetFunctions: Runner.TargetFunctionObject = {};\n  private runners: {[x: string]: Runner.Class} = {};\n\n  constructor(\n    private settings: CommandEngine.ctor['settings'],\n    private nodes: CommandEngine.ctor['nodes'],\n    private commandRunnerClass: CommandEngine.ctor['commandRunnerClass'],\n    private variables: CommandEngine.ctor['variables'],\n  ) { }\n\n  registerTargetFunction(factory: CommandEngine.TargetFunctionFactory) {\n    const { settings, variables } = this;\n    const input = { settings, variables, commandEngine: this };\n    Object.assign(this.targetFunctions, factory(input));\n  }\n\n  public run() {\n    this.createRunners();\n    this.runFirstNode();\n  }\n\n  public runCommands(commands: ICommand.AnyCommand[]) {\n    return this.createCommandRunner(commands).run();\n  }\n\n  private createRunners() {\n    const targetFunctions = this.targetFunctions;\n    this.nodes.forEach(node => {\n      const commands = node.getCommands();\n      this.runners[node.name] = this.createCommandRunner(commands);\n    })\n  }\n\n  private createCommandRunner(commands: ICommand.AnyCommand[]): Runner.Class {\n    return new this.commandRunnerClass({\n      variables: this.variables,\n      targetFunctions: this.targetFunctions,\n      commands\n    })\n  }\n\n  private runFirstNode() {\n    if (this.nodes[0]) {\n      this.getRunnerForNode(this.nodes[0].name).run();\n    }\n  }\n\n  public runNodeByName(name: string): Promise<Runner.Class> {\n    return this.getRunnerForNode(name).run();\n  }\n\n  private getRunnerForNode(name: string) {\n    return this.runners[name];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/command-engine.ts","export { IV } from './iv';\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/index.ts","import { Node } from './node';\nimport { createDomEngine } from './command-engine';\nimport { isMobileOrTablet } from 'mobile-detector';\nimport { qsaToArray } from './utils';\nimport { defaults } from './config';\n\ninterface ConstructorInput {\n  variables?: Partial<IV.Variables>;\n  settings?: Partial<IV.Settings>;\n}\n\nexport class IV {\n  public variables: Partial<IV.Variables> = {};\n  public settings: Partial<IV.Settings> = {};\n\n  private defaultSettings: IV.Settings = {\n    baseContainer: document.getElementById(defaults.baseElementId),\n    baseVideoUrl: '',\n    bgAudioUrl: null,\n  }\n\n  private nodes: Node[] = []\n\n  constructor(initialState: ConstructorInput = {}) {\n    const {variables, settings} = initialState;\n    if (variables) {\n      this.variables = variables;\n    }\n    if (settings) {\n      this.settings = settings;\n    }\n    this.validateDom();\n    this.setup();\n  }\n\n  private validateDom() {\n    if (!this.getSetting('baseContainer')) {\n      throw new Error(`No valid node present in HTML`)\n    }\n  }\n\n  private setup() {\n  }\n\n  private getSetting(name: keyof IV.Settings) {\n    if (this.settings[name]) return this.settings[name];\n    return this.defaultSettings[name];\n  }\n\n  private getSettings() {\n    const settings = {};\n    for (let key in this.defaultSettings) {\n      settings[key] = this.getSetting(key as keyof IV.Settings);\n    }\n    return settings as IV.Settings;\n  }\n\n  public node(name: string) {\n    const newNode = new Node(name);\n    this.nodes.push(newNode);\n    return newNode; // Beginning of chainable node\n  }\n\n  public defineNode = this.node;\n\n  public run(name) {\n    const { nodes, variables } = this;\n    const engine = createDomEngine({\n      settings: this.getSettings(),\n      nodes,\n      variables,\n    });\n\n    this.runOnAnyPlatform(engine);\n  }\n\n  private runOnAnyPlatform(engine) {\n    if (isMobileOrTablet()) {\n      this.runViaButton(this.createKickoffButton(), engine);\n    } else {\n      engine.run();\n    }\n  }\n\n  private createKickoffButton() {\n    var startBtn = document.createElement('button');\n    startBtn.type = 'button';\n    startBtn.id = 'IV-kickoff';\n    startBtn.innerHTML = 'Kickoff';\n    (this.getSettings().baseContainer as HTMLElement).appendChild(startBtn);\n    return startBtn;\n  }\n\n  private runViaButton(btn: HTMLElement, engine) {\n    const handleClick = () => {\n      btn.removeEventListener('click', handleClick);\n      this.prepVideosForMobile();\n      btn.remove();\n      engine.run();\n    }\n    btn.addEventListener('click', handleClick);\n  }\n\n  private prepVideosForMobile() {\n    // TODO: move this method to VideoController\n    // and call from here, or with registered kickoff event\n    const videos = qsaToArray(document.querySelectorAll('video')) as HTMLVideoElement[]\n    videos.forEach(vid => {\n      vid.play();\n      vid.pause();\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/iv.ts","import { PlayVideoInput, VideoCommandsBuilder } from './node-builders/video/video-commands-builder';\nimport { ButtonOptions, ButtonCommandsBuilder } from './node-builders/button-commands-builder';\n\ninterface SwitchBase {\n  var: string;\n}\n\ninterface Is extends SwitchBase {\n  is: string | number | boolean;\n}\n\ninterface IsGreaterThan extends SwitchBase {\n  isGreaterThan: number;\n}\n\ninterface IsLessThan extends SwitchBase {\n  isLessThan: number;\n}\n\ninterface IsBetween extends SwitchBase {\n  isBetween: number[];\n}\n\n\ninterface IsGreaterThanOrEqualTo extends SwitchBase {\n  isGreaterThanOrEqualTo: number;\n}\n\ninterface IsLessThanOrEqualTo extends SwitchBase {\n  isLessThanOrEqualTo: number;\n}\n\ntype ifOptions  =\n    Is\n  | IsGreaterThan\n  | IsLessThan\n  | IsGreaterThanOrEqualTo\n  | IsLessThanOrEqualTo\n  | IsBetween\n\n\ninterface RandomOptions {\n  min: number;\n  max: number;\n  storeIn: string;\n}\n\ninterface CalculateBase {\n  var: string;\n  storeIn: string;\n}\n\ninterface CalculateAdd extends CalculateBase {\n  add: number;\n}\n\ninterface CalculateSubtract extends CalculateBase {\n  subtract: number;\n}\n\ninterface CalculateMultiply extends CalculateBase {\n  multiply: number;\n}\n\ninterface CalculateDivide extends CalculateBase {\n  divide: number;\n}\n\ntype CalculateOptions =\n    CalculateAdd\n  | CalculateSubtract\n  | CalculateMultiply\n  | CalculateDivide\n\ninterface AssignVariableWithVar {\n  storeIn: string;\n  var: string;\n}\n\ninterface AssignVariableWithValue  {\n  storeIn: string;\n  value: string | number | Array<string | number>;\n}\n\n\n\ntype AssignVariableOptions =  AssignVariableWithVar | AssignVariableWithValue;\n\nexport class Node implements IvNode {\n\n  private commands: ICommand.AnyCommand[] = [];\n  private switchDo: ICommand.Switch;\n  private pushType: string = 'main';\n  private videoCommands = new VideoCommandsBuilder();\n  private buttonCommands = new ButtonCommandsBuilder();\n\n  constructor( public name: string ) { }\n\n\n  public getCommands() {\n    return this.commands;\n  }\n\n  private pusher(command: ICommand.AnyCommand[] | ICommand.AnyCommand){\n    if (Array.isArray(command)) return command.forEach(c => this.pusher(c))\n    if(this.pushType == 'condition')\n    {\n      this.switchDo.do[this.switchDo.do.length - 1].commands.push(command);\n    }\n    else if(this.pushType == 'default')\n    {\n      this.switchDo.defaultCommands.push(command);\n    }\n    else\n    {\n      this.commands.push(command);\n    }\n  }\n\n  public addButton(input: ButtonOptions): this {\n    const cmd = this.buttonCommands.addButton(input);\n    this.pusher(cmd);\n    return this;\n  }\n\n  public removeAllButtons(): this {\n    const cmd = this.buttonCommands.removeAllButtons();\n    this.pusher(cmd);\n    return this;\n  }\n\n  public if(optionsObj: ifOptions): this {\n    //TODO: need to instantiate a new for each if.\n    if (this.switchDo == null)\n    {\n    this.switchDo = {name: 'switch', do: [], defaultCommands: []};\n    }\n    this.pushType = 'condition';\n      if (optionsObj['is'])\n      {\n        this.switchDo.do.push({varName: optionsObj.var, is: optionsObj['is'], commands: []});\n      }\n      else if (optionsObj['isGreaterThan'])\n      {\n        this.switchDo.do.push({varName: optionsObj.var, isGreaterThan: optionsObj['isGreaterThan'], commands: []});\n      }\n      else if (optionsObj['isLessThan'])\n      {\n        this.switchDo.do.push({varName: optionsObj.var, isLessThan: optionsObj['isLessThan'], commands: []});\n      }\n      else if (optionsObj['isBetween'])\n      {\n        this.switchDo.do.push({varName: optionsObj.var, isBetween: optionsObj['isBetween'], commands: []});\n      }\n      else if (optionsObj['isGreaterThanOrEqualTo'])\n      {\n        this.switchDo.do.push({varName: optionsObj.var, isGreaterThanOrEqualTo: optionsObj['isGreaterThanOrEqualTo'], commands: []});\n      }\n      else if (optionsObj['isLessThanOrEqualTo'])\n      {\n        this.switchDo.do.push({varName: optionsObj.var, isGreaterThanOrEqualTo: optionsObj['isLessThanOrEqualTo'], commands: []});\n      }\n    return this;\n  }\n\n  public else(): this {\n    this.pushType = 'default';\n    return this;\n  }\n\n  public endIf(): this {\n    this.pushType = 'main';\n    this.pusher(this.switchDo);\n    return this;\n  }\n\n  public playVideo(...input: PlayVideoInput[]) : this {\n    this.pusher(this.videoCommands.playVideo(...input))\n    return this;\n  }\n\n  public js(func: () => any): this {\n    this.pusher({name: 'executeJs', func})\n    return this\n  }\n\n  public videoPlay(...input: PlayVideoInput[]): this {\n    console.warn('The `videoPlay` command is deprecated. Please Use `playVideo`')\n    this.pusher(this.videoCommands.playVideo(...input))\n    return this;\n  }\n\n  public getRandom(objSettings: RandomOptions) : this {\n    const command: ICommand.GetRandomNumber = { name:'getRandomNumber', min: objSettings.min, max: objSettings.max, assignTo: objSettings.storeIn };\n    this.pusher(command);\n    return this;\n  }\n\n  public setVariable(objSettings: AssignVariableOptions) : this {\n    if (objSettings['var'])\n    {\n      const command: ICommand.AssignFromVariable = { name:'assignFromVariable', varName : objSettings['var'],  assignTo: objSettings.storeIn };\n      this.pusher(command);\n    }\n    else\n    {\n      if(objSettings['value'])\n      {\n        const command: ICommand.AssignVariable = { name:'assignVariable', value: objSettings['value'] , assignTo: objSettings.storeIn };\n        this.pusher(command);\n      }\n\n    }\n    return this;\n  }\n\n\n  public wait(time: number) : this {\n    const msTime = time * 1000;\n    const command: ICommand.Wait = { name:'wait', time: msTime };\n    this.pusher(command);\n    return this;\n  }\n\n\n  public calculate(optionsObj: CalculateOptions) : this {\n    var op:string = '';\n    var val:number = 0;\n    if(optionsObj['add'])\n    {\n      op = 'add';\n      val = optionsObj['add'];\n    }\n    else if(optionsObj['subtract'])\n    {\n      op = 'subtract';\n      val = optionsObj['subtract'];\n    }\n    else if(optionsObj['multiply'])\n    {\n      op = 'multiply';\n      val = optionsObj['multiply'];\n    }\n    else if(optionsObj['divide'])\n    {\n      op = 'divide';\n      val = optionsObj['divide'];\n    }\n    else{\n      const received = [];\n      for (const prop in optionsObj) {\n        if (optionsObj.hasOwnProperty(prop)) {\n          received.push(`\"${prop}\"`);\n        }\n      }\n      const message = `Unknown options passed into Calculate(). Was expecting \"var\", \"storeIn\" and then one of \"add\", \"subtract\", \"multiply\", or \"delete\". Received [${received.join(', ')}]`\n      throw new Error(message)\n    }\n\n    const command: ICommand.Calculate = {\n      name:'calculate',\n      varName:optionsObj.var,\n      operation: op as ICommand.Calculate['operation'],\n      value: val,\n      assignTo: optionsObj.storeIn\n    };\n    this.pusher(command);\n    return this;\n  }\n\n  public goto(nodeName: string) : this {\n    const commands = this.buildGoToNodeCommandSet(nodeName);\n    commands.forEach(c => this.pusher(c))\n    return this;\n  }\n\n  private buildGoToNodeCommandSet(nodeName: string): [\n    ICommand.GoToNode,\n    ICommand.StopExecution\n  ] {\n    return [\n      { name: 'goToNode', nodeName: nodeName },\n      { name: 'stopExecution' }\n    ];\n  }\n\n  public execute(nodeName: string) : this {\n    const command: ICommand.ExecuteAsync = {name:'executeAsync', nodeName: nodeName};\n    this.pusher(command);\n    return this;\n  }\n\n  public log(anything: any): this {\n    const command: ICommand.Log = {\n      name: 'log',\n      value: anything,\n    };\n    this.pusher(command);\n    return this;\n  }\n\n  public goSub(nodeName: string) : this {\n    const command: ICommand.ExecuteSync = {name:'executeSync', nodeName: nodeName};\n    this.pusher(command);\n    return this;\n  }\n\n\n  public return() : this {\n    const commandStop: ICommand.StopExecution = {name:'stopExecution'};\n    this.pusher(commandStop);\n    return this;\n  }\n\n  public bgAudio(input: 'play' | 'pause' | { load: string }) {\n    const command = this.bgAudioCommand(input)\n    this.pusher(command);\n    return this;\n  }\n\n  private bgAudioCommand(input: 'play' | 'pause' | { load: string }): ICommand.AudioSource {\n    if (typeof input === 'string') {\n      return {\n        name: 'audioSource',\n        target: 'BG',\n        do: input,\n      }\n    } else {\n      return {\n        name: 'audioSource',\n        target: 'BG',\n        do: 'load',\n        file: input.load\n      }\n    }\n  }\n\n  public setVolume(input: {target: 'bg'|'sfx', volume: number, time?: number}): this {\n    let {volume, target, time} = input;\n    const command: ICommand.AudioVolume = {\n      name: 'audioVolume',\n      target: target.toUpperCase() as 'BG' | 'SFX',\n      volume,\n      time: time ? time * 1000 : time,\n    }\n    this.pusher(command);\n    return this;\n  }\n\n  public clearVideo(time?: number) : this {\n    this.pusher(this.videoCommands.clearVideo(time));\n    return this;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/node.ts","interface VideoSettings {\n  url: string;\n  // loop: boolean; // TODO: implement\n  goTo: string;\n  runSync: string;\n  runAsync: string;\n  js: (...args) => any\n}\n\ntype VideoOptions = Partial<VideoSettings>\n\nexport type PlayVideoInput = (string | VideoOptions);\n\nexport class VideoCommandsBuilder {\n  public playVideo(...input: PlayVideoInput[]): ICommand.PlayVideo[] {\n    if (Array.isArray(input[0])) {\n      return this.handleDepricatedArrayInput(input[0] as PlayVideoInput[]);\n    } else {\n      return this.handleArrayInput(input);\n    }\n  }\n\n  public clearVideo(time?: number): Array<ICommand.Wait | ICommand.ClearVideo> {\n    const commands = []\n\n    if (time) {\n      const msTime = time * 1000;\n      const command: ICommand.Wait = { name: 'wait', time: msTime };\n      commands.push(command);\n    }\n\n    const clearVideoCommand: ICommand.ClearVideo = { name: 'clearVideo' };\n    commands.push(clearVideoCommand);\n\n    return commands;\n  }\n\n  private handleDepricatedArrayInput(array: PlayVideoInput[]) {\n    console.warn('Passing an array to playVideo (or the alias \"videoPlay\") is deprecated. Just pass values as individual arguments. (Remove the `[` and `]` from the method call.)')\n    return this.playVideo(...array);\n  }\n\n  private handleArrayInput(input: Array<string | VideoOptions>): ICommand.PlayVideo[] {\n    const singleCommand = input\n      .map(objOrStr => this.guaranteedOptionsObject(objOrStr))\n      .reduce(this.mergeMissingUrlsReducer, [])\n      .map(vo => this.createPlayCommandFromOptions(vo))\n      .reduceRight(this.reduceOnCompleteIntoPrevious, null)\n\n    return [singleCommand]\n  }\n\n  private mergeMissingUrlsReducer(a: VideoOptions[], current: VideoOptions): VideoOptions[] {\n    if (current.url) {\n      a.push(current);\n    } else {\n      const lastObj = a[a.length - 1];\n      if (!lastObj) {\n        throw new Error('Previous object does not exist. This error can occur if the first object passed to `playVideo` does not contain a url.');\n      }\n      Object.assign(lastObj, current);\n    }\n    return a;\n  }\n\n  private reduceOnCompleteIntoPrevious(\n    a: ICommand.PlayVideo | null,\n    command: ICommand.PlayVideo\n  ) {\n    if (!a) return command;\n    command.onComplete = command.onComplete || [];\n    command.onComplete.push(a);\n    return command;\n  }\n\n  private guaranteedOptionsObject(singleInput: PlayVideoInput): VideoOptions {\n    if (typeof singleInput === 'object') {\n      return singleInput;\n    } else {\n      return {url: singleInput};\n    }\n  }\n\n  private createPlayCommandFromOptions(obj: VideoOptions) {\n    const addedProps = { name: 'playVideo' };\n    const remappedProps = {file: obj.url};\n    const commandProps = this.commandOptionsToCommands(obj);\n    const finalObj = Object.assign({}, addedProps, remappedProps, commandProps) as ICommand.PlayVideo;\n    return finalObj;\n  }\n\n  private commandOptionsToCommands(inputObj: VideoOptions): Partial<ICommand.PlayVideo> {\n    let onComplete: ICommand.AnyCommand[] = [];\n    function addCommands(commands: ICommand.AnyCommand | ICommand.AnyCommand[]) {\n      onComplete = onComplete.concat(commands)\n    }\n\n    if (inputObj.runAsync) {\n      addCommands({\n        name: 'executeAsync',\n        nodeName: inputObj.runAsync\n      });\n    }\n    if (inputObj.js) {\n      addCommands({\n        name: 'executeJs',\n        func: inputObj.js\n      });\n    }\n    if (inputObj.runSync) {\n      addCommands({\n        name: 'executeSync',\n        nodeName: inputObj.runSync\n      });\n    }\n    if (inputObj.goTo) {\n      addCommands([\n        { name: 'goToNode', nodeName: inputObj.goTo },\n        { name: 'stopExecution' }\n      ]);\n    }\n\n    return onComplete.length > 0 ? {onComplete} : {};\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/node-builders/video/video-commands-builder.ts","export interface ButtonOptions {\n  id: string;\n  text: string;\n  goTo?: string;\n  runAsync?: string;\n  remove?: boolean;\n  js?: () => any,\n}\n\nexport class ButtonCommandsBuilder {\n  public addButton(input: ButtonOptions) {\n    const { id, text } = input;\n    const cmd: ICommand.AddButton = {\n      name: 'addButton',\n      id,\n      text,\n      onClick: this.createCommands(input)\n    }\n    return cmd;\n  }\n\n  public removeAllButtons(): ICommand.RemoveAllButtons {\n    return {\n      name: 'removeAllButtons'\n    }\n  }\n\n  private createCommands(input: ButtonOptions): ICommand.AnyCommand[] {\n    const { runAsync, goTo, js, remove, id } = input;\n    const commands: ICommand.AnyCommand[] = [];\n\n    if (runAsync) {\n      commands.push({\n        name: 'executeAsync',\n        nodeName: runAsync,\n      })\n    }\n    if (js) {\n      commands.push({\n        name: 'executeJs',\n        func: js\n      })\n    }\n    if (remove) {\n      commands.push({\n        name: 'removeButton',\n        id\n      })\n    }\n    if (goTo) {\n      commands.push({\n        name: 'goToNode',\n        nodeName: goTo\n      },{\n        name: 'stopExecution'\n      })\n    }\n\n    return commands;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/node-builders/button-commands-builder.ts","export * from './command-engine';\nexport * from './dom-engine';\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/index.ts","import { createEngine } from './command-engine';\nimport { CommandRunner } from './command-runner';\n\nimport * as dom from './dom-commands';\nimport * as any from './general-commands';\nimport * as log from './log-commands';\nimport * as non from './unserializable-commands';\n\nconst factories: CommandEngine.TargetFunctionFactory[] = [\n  dom.playVideoFactory,\n  dom.audioSourceFactory,\n  dom.audioVolumeFactory,\n  any.goToNodeFactory,\n  any.stopExecutionFactory,\n  any.assignVariableFactory,\n  any.assignFromVariableFactory,\n  any.getRandomNumberFactory,\n  any.calculateFactory,\n  any.switchFactory,\n  log.logFactory,\n  any.pauseExecutionFactory,\n  any.executeSyncFactory,\n  any.waitFactory,\n  any.executeAsyncFactory,\n  non.executeJsFactory,\n  dom.addButtonFactory,\n  dom.removeAllButtonsFactory,\n  dom.removeButtonFactory,\n];\n\nexport function createDomEngine(input: {\n  settings: IV.Settings,\n  nodes: IvNode[],\n  variables: {[x:string]: any}\n}) {\n  const { settings, nodes, variables } = input;\n  return createEngine({\n    commandRunnerClass: CommandRunner,\n    settings,\n    nodes,\n    variables\n  }, ...factories)\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-engine.ts","import { EventEmitter } from 'eventemitter3';\nimport { traverseObject, toType } from 'happy-helpers';\nimport { PartialLiquid } from '../../lib/partial-liquid';\nimport { nearClone } from '../utils';\n\nexport class CommandRunner implements Runner.Class {\n  public status: Runner.Status;\n\n  private events = new EventEmitter();\n  private targets: Runner.ConstructorInput['targetFunctions'] = {};\n  private commands: Runner.ConstructorInput['commands'];\n  private variables: Runner.ConstructorInput['variables']\n  private replacer: PartialLiquid;\n  private runQueue: Array<() => void> = [];\n\n  private getFunctionFor(name: string) {\n    if (!this.targets[name]) {\n      throw new Error(`There is no registered function to execute the \"${name}\" command.`);\n    }\n    return this.targets[name];\n  }\n\n  private nextIndex = 0;\n\n  constructor({commands, targetFunctions, variables}: Runner.ConstructorInput) {\n    this.commands = commands;\n    this.targets = targetFunctions;\n    this.variables = variables;\n    this.replacer = new PartialLiquid(this.variables);\n    this.setStatus('ready');\n  }\n\n  run(): Promise<this> {\n    if (this.canRun()) {\n      return this.doRun();\n    } else {\n      return this.enqueueRun();\n    }\n  }\n\n  on(event, listener) {\n    return this.events.on(event, listener);\n  }\n\n  once(event, listener) {\n    return this.events.once(event, listener);\n  }\n\n  private doRun(): Promise<this> {\n    this.setStatus('running');\n    this.runNextCommand();\n    return Promise.resolve(this);\n  }\n\n  private enqueueRun(): Promise<this> {\n    let doRun: () => void;\n    const willRun: Promise<this> = new Promise(resolve => {\n      doRun = () => {\n        resolve(this.doRun())\n      }\n    })\n    this.runQueue.push(doRun)\n    return willRun;\n  }\n\n  private canRun(): boolean {\n    return this.status !== 'running' && this.status !== 'waiting'\n  }\n\n  private setStatus(status: Runner.Status) {\n    this.events.emit(status);\n    this.status = status;\n  }\n\n  private resetIndex() {\n    this.nextIndex = 0;\n  }\n\n  private advanceIndex() {\n    this.nextIndex++;\n  }\n\n  private runNextCommand() {\n    if (this.status !== 'running') return;\n\n    const cmd = this.commands[this.nextIndex]\n    if (cmd) {\n      this.advanceIndex()\n      this.runCommand(cmd)\n        .then(cmdReturn => this.evaluateReturn(cmdReturn))\n        .then(() => this.runNextCommand())\n    } else {\n      this.exit();\n    }\n  }\n\n  private async evaluateReturn(theReturn: Runner.CommandReturn) {\n    const {commands, requests, asyncCommands} = theReturn;\n    if (asyncCommands) this.asyncSeries(asyncCommands);\n    if (commands) await this.runNewSeries(commands);\n    await this.evaluateRequests(requests);\n  }\n\n  private async evaluateRequests(requests: Runner.CommandReturn['requests']) {\n    if (!requests) return;\n    if (requests.some(r => r === 'exit')) return this.exit();\n    if (requests.some(r => r === 'pause')) return this.pause();\n    return;\n  }\n\n  private exit() {\n    this.resetIndex();\n    const runImmediately = this.runQueue.shift();\n    if (runImmediately) return runImmediately();\n    this.setStatus('done');\n  }\n\n  private pause() {\n    this.setStatus('paused');\n  }\n\n  private asyncSeries(eventualCommands: Promise<Runner.Command[]>) {\n    eventualCommands.then(commands => {\n      this.runNewSeries(commands)\n      .catch((err: Error) => {\n        const beginningMessage = err.message.slice(0,10) + '...'\n        console.error(`the error thrown above (beginning \"${beginningMessage}\") was in an async branch`);\n      })\n    })\n  }\n\n  private runNewSeries(commands: Runner.Command[]) {\n    return new Promise(res => {\n      const runner = new CommandRunner({\n        targetFunctions: this.targets,\n        commands,\n        variables: this.variables\n      });\n      runner.once('done', res);\n      runner.run();\n    }).catch(err => {\n      console.error('a child runner threw an error:')\n      console.error(err)\n      throw err;\n    })\n  }\n\n  private runCommand(incomingCommand: Runner.Command) {\n    const cmd = this.replaceVariables(incomingCommand);\n    const targetFunction = this.getFunctionFor(cmd.name);\n    return targetFunction(cmd);\n  }\n\n  private replaceVariables(incoming: Runner.Command): Runner.Command {\n    let outgoing = nearClone(incoming);\n\n    outgoing = traverseObject(outgoing, (prop, value) => {\n      if (toType(value) === 'string') {\n        value = this.replaceVariableInString(value);\n      }\n      return [prop, value];\n    }, true, false);\n\n    return outgoing;\n  }\n\n\n  private replaceVariableInString(str: string): string {\n    return this.replacer.replace(str);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/command-runner.ts","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/eventemitter3/index.js\n// module id = 14\n// module chunks = 0 1","// Liquid markup (https://shopify.github.io/liquid/) inspired\nimport { toType } from 'happy-helpers';\nimport { getRandomInt } from './utils';\n\nexport class PartialLiquid {\n  private LIQUID_ONE = /\\{\\{(.*?)( ?\\| ?(.*)?)?\\}\\}/\n  private LIQUID_ALL = new RegExp(this.LIQUID_ONE, 'g');\n\n  implementedFilters = {\n    'random': this.randomFilter.bind(this)\n  }\n\n  constructor(private variables: IV.Variables) { }\n\n  public replace(str: string): any {\n    const parts = this.getParts(str);\n    if (!parts) return str;\n    if (parts.whole === str) {\n      return this.sendRawVar(str);\n    } else {\n      return this.replaceAsString(str);\n    }\n  }\n\n  private replaceAsString(str): string {\n    return str.replace(this.LIQUID_ALL, (substring: string) => {\n      return this.filteredVariable(substring).toString();\n    });\n  }\n\n  private getParts(str: string): {whole: string, varName: string, filter: string} | null {\n    const matches = str.match(this.LIQUID_ONE);\n    if (!matches) return null;\n    const [whole, varName, pipePhrase, filter] = matches;\n    return { whole, varName, filter };\n  }\n\n  private sendRawVar(str: string): any {\n    let variable;\n    str.replace(this.LIQUID_ALL, (substring) => {\n      variable = this.filteredVariable(substring)\n      return substring;\n    });\n    return variable;\n  }\n\n  private filteredVariable(substring: string): any {\n    const { whole, varName, filter } = this.getParts(substring);\n    if (filter) {\n      return this.doFilter(varName, filter);\n    } else {\n      return this.variables[varName];\n    }\n  }\n\n  private doFilter(varName: string, filter: string) {\n    const method = this.implementedFilters[filter];\n    if (!method) {\n      throw new Error(`There is no filter called \"${filter}\"`)\n    }\n    return method(varName)\n  }\n\n  private randomFilter(varName: string): any {\n    const values = this.variables[varName] as any[];\n    if (toType(values) !== 'array') {\n      throw new Error('You cannot use the random filter on a non-array');\n    }\n\n    const randomIndex = getRandomInt(0, values.length - 1);\n    return values[randomIndex];\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/partial-liquid.ts","import { defaults } from '../scripts/lib/config'\n\nexport function qsaToArray(qsa: NodeListOf<HTMLElement>): HTMLElement[] {\n  let index = 0;\n  const outArray: HTMLElement[] = []\n  for (index = 0; index < qsa.length; index++) {\n    outArray.push(qsa[index])\n  }\n  return outArray;\n}\n\nexport function querySelectorAll(selector: string) {\n  return qsaToArray(document.querySelectorAll(selector));\n}\n\nexport function getAllVideos(): HTMLVideoElement[] {\n  return qsaToArray(document.querySelectorAll(`#${defaults.baseElementId} video`)) as HTMLVideoElement[];\n}\n\nexport function getCurrentVideo() {\n  return document.getElementById('IV-video-player-1') as HTMLVideoElement;\n}\n\nexport function getNextVideo() {\n  return document.getElementById('IV-video-player-2') as HTMLVideoElement;\n}\n\nexport function getAllAudioPlayers(): HTMLAudioElement[] {\n  return qsaToArray(document.querySelectorAll(`#${defaults.baseElementId} audio`)) as HTMLAudioElement[];\n}\n\nexport function getAudioPlayerNamed(name: string) {\n  return document.getElementById(`IV-audio-player-${name.toLowerCase()}`) as HTMLAudioElement;\n}\n\nexport function getBgAudioPlayer() {\n  return getAudioPlayerNamed('BG');\n}\n\nexport function getSfxAudioPlayer() {\n  return getAudioPlayerNamed('SFX');\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./test-support/dom-commands.ts","export * from './video/play-video';\nexport * from './audio/audio-commands';\nexport * from './buttons/button-commands';\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-commands/index.ts","import { videoController } from './video-controller';\n\nexport const playVideoFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  const baseEl = input.settings.baseContainer as HTMLElement;\n  videoController.createPlayers(baseEl);\n\n  return {'playVideo': (cmd: ICommand.PlayVideo) => {\n    const ending = videoController.playVideo(`${input.settings.baseVideoUrl}${cmd.file}`);\n\n    const returnObj: Runner.CommandReturn = {};\n\n    if (cmd.onComplete) {\n      const completing = new Promise(res => {\n        ending.then(() => res(cmd.onComplete))\n      }) as Promise<Runner.Command[]>\n\n      returnObj.asyncCommands = completing;\n    }\n    return Promise.resolve(returnObj);\n  }}\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-commands/video/play-video.ts","function createVideoPlayer(id: string) {\n  const player = document.createElement('video');\n  player.id = id;\n  player.setAttribute('playsinline', 'true');\n  player.setAttribute('disableRemotePlayback', 'true');\n  const style = 'block';  // fixes the android black frame issue.  Aparently it does not like 'inline'\n  player.style.display = style;\n  return player;\n}\n\nclass VideoController {\n  private baseElement: HTMLElement = document.body;\n  private isFirstPlay = true;\n\n  private players = {\n    current: createVideoPlayer('IV-video-player-1'),\n    standby: createVideoPlayer('IV-video-player-2'),\n  }\n\n  public playVideo(url: string): Promise<any> {\n    const standby = this.getStandbyPlayer();\n    const current = this.getCurrentPlayer();\n    standby.onloadeddata = () => {\n      current.src = url;\n      current.play();\n    }\n    standby.src = url;\n    standby.load() // essential for mobile safari\n    return this.whenPlayerEnds(current);\n  }\n\n  private whenPlayerEnds(player: HTMLVideoElement): Promise<any> {\n    return new Promise((resolve) => {\n      const onEnded = () => {\n        resolve('video ended');\n        player.removeEventListener('ended', onEnded);\n      }\n      player.addEventListener('ended', onEnded);\n    })\n  }\n\n  public createPlayers(baseElement?: HTMLElement): void {\n    this.baseElement = baseElement;\n    this.attachPlayers(); // multiple calls are fine... does not duplicate\n  }\n\n  private attachPlayers() {\n    this.baseElement.appendChild(this.players.standby)\n    this.baseElement.appendChild(this.players.current)\n  }\n\n  public getCurrentPlayer() {\n    return this.players.current;\n  }\n\n  public getStandbyPlayer() {\n    return this.players.standby;\n  }\n}\n\nexport const videoController = new VideoController();\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-commands/video/video-controller.ts","import { audioController } from './audio-controller';\n\nexport const audioSourceFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n  \n  const baseEl = input.settings.baseContainer as HTMLElement;\n  audioController.createPlayers(baseEl);\n\n  if (input.settings.bgAudioUrl) {\n    audioController.load('BG', input.settings.bgAudioUrl)\n  }\n\n  return {'audioSource': (cmd: ICommand.AudioSource) => {\n    switch (cmd.do) {\n      case 'play':\n        audioController.play(cmd.target, cmd.file);\n        break;\n      case 'load':\n        audioController.load(cmd.target, cmd.file);\n        break;\n      case 'pause':\n        audioController.pause(cmd.target)\n        break;\n      default:\n        throw new Error(`unexpected command for audio source: \"${cmd.do}\"`);\n    }\n\n\n    \n    const returnObj: Runner.CommandReturn = {};\n\n    return Promise.resolve(returnObj);\n  }}\n}\n\nexport const audioVolumeFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  const baseEl = input.settings.baseContainer as HTMLElement;\n  audioController.createPlayers(baseEl);\n\n  return {\n    'audioVolume': (cmd: ICommand.AudioVolume) => {\n      const returnObj: Runner.CommandReturn = {};\n\n      if (cmd.time) {\n        audioController.volume(cmd.target, cmd.volume, cmd.time)\n      } else {\n        audioController.volume(cmd.target, cmd.volume)\n      }\n\n      return Promise.resolve(returnObj);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-commands/audio/audio-commands.ts","import { wait } from '../../../utils';\n\nfunction createAudioPlayer(id: string): HTMLAudioElement {\n  const player = document.createElement('audio');\n  player.id = id;\n  return player;\n}\n\nclass AudioController {\n  public _fadeInterval = 200;\n  private baseElement: HTMLElement = document.body;\n\n  private players = {\n    bg: createAudioPlayer('IV-audio-player-bg'),\n    sfx: createAudioPlayer('IV-audio-player-sfx'),\n  }\n\n  public play(playerName: ICommand.AudioSource['target'], url?: string): Promise<any> {\n    const player = this.getPlayerNamed(playerName);\n    if (url && player.src !== url) {\n      player.src = url;\n    }\n    player.play();\n    return this.whenPlayerEnds(player);\n  }\n\n  public pause(playerName): Promise<any> {\n    const player = this.getPlayerNamed(playerName);\n    player.pause();\n    return Promise.resolve('audio paused');\n  }\n\n  public load(playerName, url): Promise<any> {\n    const player = this.getPlayerNamed(playerName);\n    if (url && player.src !== url) {\n      player.src = url;\n    }\n    return this.whenPlayerLoads(player);\n  }\n\n  public volume(playerName, volume, time?): Promise<any> {\n    const player = this.getPlayerNamed(playerName);\n    if (time && time > this._fadeInterval) {\n      this.fadeOverTime(player, volume, time);\n    } else {\n      player.volume = volume;\n    }\n    return Promise.resolve('audio volume adjusted');\n  }\n\n  private async fadeOverTime(player, desiredVolume, time) {\n    const startTime = Date.now();\n    const startVolume = player.volume;\n    const totalAdjustment = desiredVolume - startVolume;\n    let currentPercent = 0;\n\n    function percentComplete() {\n      const traveled = Date.now() - startTime;\n      currentPercent = Math.min(traveled / time, 1);\n      return currentPercent;\n    }\n\n    while (currentPercent < 1) {\n      player.volume = startVolume + (totalAdjustment * percentComplete());\n      if (currentPercent === 1) player.volume = desiredVolume;\n      await wait(this._fadeInterval)\n    }\n  }\n\n  private whenPlayerEnds(player: HTMLAudioElement): Promise<any> {\n    return new Promise((resolve) => {\n      const onEnded = () => {\n        resolve('audio ended');\n        player.removeEventListener('ended', onEnded);\n      }\n      player.addEventListener('ended', onEnded);\n    })\n  }\n\n  private whenPlayerLoads(player: HTMLAudioElement): Promise<any> {\n    return new Promise((resolve) => {\n      const onEnded = () => {\n        resolve('audio loaded');\n        player.removeEventListener('loadeddata', onEnded);\n      }\n      player.addEventListener('loadeddata', onEnded);\n    })\n  }\n\n  public createPlayers(baseElement?: HTMLElement): void {\n    this.baseElement = baseElement;\n    this.attachPlayers(); // multiple calls are fine... does not duplicate\n  }\n\n  private attachPlayers() {\n    this.baseElement.appendChild(this.players.bg)\n    this.baseElement.appendChild(this.players.sfx)\n  }\n\n  public getBgPlayer() {\n    return this.players.bg;\n  }\n\n  public getSfxPlayer() {\n    return this.players.sfx;\n  }\n\n  public getPlayerNamed<T extends ICommand.AudioSource['target']>(name: T): HTMLAudioElement {\n    return this.players[name.toLowerCase()]\n  }\n}\n\nexport const audioController = new AudioController();\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-commands/audio/audio-controller.ts","import { buttonsController, IButtonSettings } from './buttons-controller';\n\nexport const addButtonFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  const baseEl = input.settings.baseContainer as HTMLElement;\n\n  return {'addButton': (cmd: ICommand.AddButton) => {\n    const settings: IButtonSettings = {\n      onClick: () => input.commandEngine.runCommands(cmd.onClick),\n      text: cmd.text,\n      id: cmd.id,\n    };\n    buttonsController.createButton(settings, baseEl)\n    return Promise.resolve({});\n  }}\n}\n\nexport const removeButtonFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  const baseEl = input.settings.baseContainer as HTMLElement;\n\n  return {'removeButton': (cmd: ICommand.RemoveButton) => {\n    buttonsController.removeButton(cmd.id)\n    return Promise.resolve({});\n  }}\n}\n\nexport const removeAllButtonsFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  const baseEl = input.settings.baseContainer as HTMLElement;\n\n  return {'removeAllButtons': (cmd: ICommand.RemoveAllButtons) => {\n    buttonsController.removeAllButtons();\n    return Promise.resolve({});\n  }}\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-commands/buttons/button-commands.ts","import { traverseObject } from 'happy-helpers';\nimport { defaults } from '../../../config';\nimport { nearClone, directDescendants } from '../../../utils'\n\nexport interface IButtonSettings {\n  text: string;\n  onClick(): any;\n  [s:string]: any;\n}\n\nclass ButtonsController {\n  private allButtons: HTMLButtonElement[] = [];\n\n  public createButton(\n    settings: IButtonSettings,\n    element?: HTMLElement\n  ): HTMLButtonElement {\n    const button = this.newButton(settings);\n    this.addToButtonStore(button);\n    this.appendToDocument(button, element);\n    return button;\n  }\n\n  public removeAllButtons() {\n    this.allButtons = this.allButtons.reduce((a, b) => {\n      b.remove();\n      return a;\n    }, [])\n  }\n\n  public removeButton(id: string) {\n    this.allButtons.filter(b => b.id === id)\n      .forEach(b => b.remove());\n  }\n\n  private newButton(settings: IButtonSettings): HTMLButtonElement {\n    const button = document.createElement('button');\n    this.applySettingsToButton(button, settings);\n    return button;\n  }\n\n  private applySettingsToButton(button: HTMLButtonElement, settings: IButtonSettings) {\n    const attrs: any = nearClone(settings);\n\n    attrs.onclick = attrs.onClick;\n    delete attrs.onClick;\n\n    button.innerHTML = attrs.text\n    delete attrs.text;\n\n    traverseObject(attrs, (prop, value) => {\n      button[prop] = value\n    }, false, false)\n  }\n\n  private addToButtonStore(button: HTMLButtonElement) {\n    this.allButtons.push(button);\n  }\n\n  private appendToDocument(button: HTMLButtonElement, parentEl?: HTMLElement) {\n    const container = this.getContainer(parentEl);\n    container.appendChild(button);\n  }\n\n  private getContainer(parentEl?: HTMLElement): HTMLElement {\n    const parent = parentEl || this.baseElement();\n    const foundContainer = directDescendants(parent, `.${defaults.buttonContainerClass}`)[0]\n    if (foundContainer) return foundContainer;\n\n    const newContainer = document.createElement('div');\n    newContainer.setAttribute('class', defaults.buttonContainerClass);\n    parent.appendChild(newContainer);\n    return newContainer;\n  }\n\n  private baseElement(): HTMLElement {\n    return document.getElementById(defaults.baseElementId);\n  }\n\n}\n\nexport const buttonsController = new ButtonsController();\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-commands/buttons/buttons-controller.ts","export * from './assign-variable';\nexport * from './assign-from-variable';\nexport * from './get-random-number';\nexport * from './switch';\nexport * from './calculate';\nexport * from './go-to-node';\nexport * from './stop-execution';\nexport * from './pause-execution';\nexport * from './execute-sync';\nexport * from './execute-async';\nexport * from './wait';\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/index.ts","export const assignVariableFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'assignVariable': (cmd: ICommand.AssignVariable) => {\n      input.variables[cmd.assignTo] = cmd.value;\n      return Promise.resolve({});\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/assign-variable.ts","export const assignFromVariableFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'assignFromVariable': (cmd: ICommand.AssignFromVariable) => {\n      input.variables[cmd.assignTo] = input.variables[cmd.varName];\n      return Promise.resolve({});\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/assign-from-variable.ts","import { getRandomInt } from '../../utils';\n\nexport const getRandomNumberFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'getRandomNumber':\n      (cmd: ICommand.GetRandomNumber) =>\n        Promise.resolve(getRandomNumber(input, cmd))\n  }\n}\n\nexport function getRandomNumber(\n  given: CommandEngine.TargetFunctionFactoryInput,\n  cmd: ICommand.GetRandomNumber\n): Runner.CommandReturn {\n\n  given.variables[cmd.assignTo] = getRandomInt(cmd.min, cmd.max);\n  return {};\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/get-random-number.ts","export const switchFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'switch':\n      (cmd: ICommand.Switch) =>\n        Promise.resolve(doSwitch(input, cmd))\n  }\n}\n\nexport function doSwitch(\n  given: CommandEngine.TargetFunctionFactoryInput,\n  cmd: ICommand.Switch\n): Runner.CommandReturn {\n  const { variables } = given;\n  let winningCommands;\n  cmd.do.forEach(condition => {\n    if (winningCommands) return;\n    winningCommands = winningCommandsOrNull(condition, variables)\n  })\n  let commands = winningCommands || cmd.defaultCommands\n  return {commands};\n}\n\nfunction winningCommandsOrNull(\n  condition: SwitchDo.Any,\n  variables: CommandEngine.TargetFunctionFactoryInput['variables'],\n): SwitchDo.Base['commands'] | null {\n  const operator = determineOperator(condition);\n  const variable = variables[condition.varName];\n  const operand = condition[operator]\n  if (checkCondition(operator, variable, operand)) {\n    return condition.commands;\n  }\n  return null;\n}\n\nfunction lowest(arr: number[]) {\n  return Math.min(...arr)\n}\n\nfunction highest(arr: number[]) {\n  return Math.max(...arr)\n}\n\nconst operatorFunctions = {\n  is: (variable, operand) => variable === operand,\n  isGreaterThan: (variable, operand) => variable > operand,\n  isLessThan: (variable, operand) => variable < operand,\n  isGreaterThanOrEqualTo: (variable, operand) => variable >= operand,\n  isLessThanOrEqualTo: (variable, operand) => variable <= operand,\n  isBetween: (variable, arr) => (lowest(arr) <= variable) && (variable <= highest(arr))\n}\n\nfunction determineOperator(singleDo: SwitchDo.Any): string {\n  for (const prop in singleDo) {\n    if (operatorFunctions.hasOwnProperty(prop)) {\n      return prop;\n    }\n  }\n\n  const unusedProps = [];\n  for (const unusedProp in singleDo) {\n    if (singleDo.hasOwnProperty(unusedProp)) {\n      unusedProps.push(unusedProp);\n    }\n  }\n  throw new Error(`could not find a valid operator in switch.do. Given these possibilities: ${unusedProps.join(', ')}`)\n}\n\nfunction checkCondition(operator, variable, operand): boolean {\n  const opFunc = operatorFunctions[operator];\n  return opFunc(variable, operand);\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/switch.ts","export const calculateFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'calculate':\n      (cmd: ICommand.Calculate) =>\n        Promise.resolve(doCalculate(input, cmd))\n  }\n}\n\nexport function doCalculate(\n  given: CommandEngine.TargetFunctionFactoryInput,\n  cmd: ICommand.Calculate\n): Runner.CommandReturn {\n  const { variables } = given;\n  const { operation, varName, value, assignTo } = cmd;\n  const startingValue = variables[varName]\n  variables[assignTo] = \n    getOperation(operation)(startingValue, value)\n  return {};\n}\n\nconst operations = {\n  add: (val1, val2) => val1 + val2,\n  subtract: (val1, val2) => val1 - val2,\n  multiply: (val1, val2) => val1 * val2,\n  divide: (val1, val2) => val1 / val2,\n  divideThenRemainder: (val1, val2) => val1 % val2,\n  divideThenRoundDown: (val1, val2) => Math.floor(val1 / val2),\n  divideThenRoundUp: (val1, val2) => Math.ceil(val1 / val2),\n  divideThenRound: (val1, val2) => Math.round(val1 / val2),\n  round: (val1) => Math.round(val1),\n  roundUp: (val1) => Math.ceil(val1),\n  roundDown: (val1) => Math.floor(val1),\n}\n\nfunction getOperation(operator: string) {\n  const theOperation = operations[operator];\n  if (!theOperation) {\n    throw new Error(`There is no \"${operator}\" operator in the calculate command`);\n  }\n  return theOperation;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/calculate.ts","export const goToNodeFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'goToNode': (cmd: ICommand.GoToNode) => {\n      input.commandEngine.runNodeByName(cmd.nodeName);\n      return Promise.resolve({});\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/go-to-node.ts","export const stopExecutionFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'stopExecution': (cmd: ICommand.StopExecution) => {\n      const returnObj: Runner.CommandReturn = {\n        requests: ['exit'],\n      };\n      return Promise.resolve(returnObj);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/stop-execution.ts","export const pauseExecutionFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'pauseExecution': (cmd: ICommand.PauseExecution) => {\n      const returnObj: Runner.CommandReturn = {\n        requests: ['pause'],\n      };\n      return Promise.resolve(returnObj);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/pause-execution.ts","export const executeSyncFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'executeSync': (cmd: ICommand.ExecuteSync) => {\n      const returnObj: Runner.CommandReturn = { };\n      return new Promise(async (resolve) => {\n        (await input.commandEngine.runNodeByName(cmd.nodeName)).once('done', () => resolve(returnObj))\n      });\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/execute-sync.ts","export const executeAsyncFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'executeAsync': (cmd: ICommand.ExecuteAsync) => {\n      const returnObj: Runner.CommandReturn = { };\n      input.commandEngine.runNodeByName(cmd.nodeName)\n      return Promise.resolve(returnObj);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/execute-async.ts","export const waitFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'wait': (cmd: ICommand.Wait) => {\n      const returnObj: Runner.CommandReturn = { };\n      \n      return new Promise(resolve => {\n        setTimeout(() => resolve(returnObj), cmd.time)\n      });\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/wait.ts","export * from './log';\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/log-commands/index.ts","import { CommandRunner } from '../command-runner';\n\nexport const logFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n  return {\n    'log': (cmd: ICommand.Log) => {\n      if (cmd.value == null) {\n        console.log(input.variables);\n      } else {\n        console.log(cmd.value)\n      }\n      return Promise.resolve({});\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/log-commands/log.ts","export * from './execute-js'\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/unserializable-commands/index.ts","export const executeJsFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n  return {\n    'executeJs': (cmd: ICommand.ExecuteJs) => {\n      return Promise.resolve(cmd.func()).then(() => ({}));\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/unserializable-commands/execute-js.ts","module.exports = (function (nav) {\n    isMobile = function () {\n        var check = false;\n        if (\n            /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(nav) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(nav.substr(0, 4))\n        ) check = true;\n        return check;\n    };\n\n    isMobileOrTablet = function () {\n        var check = false;\n        if (\n            /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(nav) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(nav.substr(0, 4))\n        ) check = true;\n        return check;\n    };\n\n    return {\n        isMobile: isMobile,\n        isMobileOrTablet: isMobileOrTablet\n    }\n\n}(navigator.userAgent || navigator.vendor || window.opera));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/mobile-detector/index.js\n// module id = 40\n// module chunks = 0 1"],"sourceRoot":""}