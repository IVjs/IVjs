{"version":3,"sources":["webpack:///webpack/bootstrap 356ca330095d57990274","webpack:///./scripts/lib/utils.ts","webpack:///../node_modules/happy-helpers/lib/main.js","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///./scripts/lib/config.ts","webpack:///./scripts/lib/command-engine/command-engine.ts","webpack:///./scripts/lib/index.ts","webpack:///./scripts/lib/iv.ts","webpack:///./scripts/lib/node.ts","webpack:///./scripts/lib/node-builders/video/video-commands-builder.ts","webpack:///./scripts/lib/node-builders/button-commands-builder.ts","webpack:///./scripts/lib/command-engine/index.ts","webpack:///./scripts/lib/command-engine/dom-engine.ts","webpack:///./scripts/lib/command-engine/command-runner.ts","webpack:///../node_modules/eventemitter3/index.js","webpack:///./scripts/lib/partial-liquid.ts","webpack:///./test-support/dom-commands.ts","webpack:///./scripts/lib/command-engine/dom-commands/index.ts","webpack:///./scripts/lib/command-engine/dom-commands/video/play-video.ts","webpack:///./scripts/lib/command-engine/dom-commands/video/video-controller.ts","webpack:///./scripts/lib/command-engine/dom-commands/audio/audio-commands.ts","webpack:///./scripts/lib/command-engine/dom-commands/audio/audio-controller.ts","webpack:///./scripts/lib/command-engine/dom-commands/buttons/button-commands.ts","webpack:///./scripts/lib/command-engine/dom-commands/buttons/buttons-controller.ts","webpack:///./scripts/lib/command-engine/general-commands/index.ts","webpack:///./scripts/lib/command-engine/general-commands/assign-variable.ts","webpack:///./scripts/lib/command-engine/general-commands/assign-from-variable.ts","webpack:///./scripts/lib/command-engine/general-commands/get-random-number.ts","webpack:///./scripts/lib/command-engine/general-commands/switch.ts","webpack:///./scripts/lib/command-engine/general-commands/calculate.ts","webpack:///./scripts/lib/command-engine/general-commands/go-to-node.ts","webpack:///./scripts/lib/command-engine/general-commands/stop-execution.ts","webpack:///./scripts/lib/command-engine/general-commands/pause-execution.ts","webpack:///./scripts/lib/command-engine/general-commands/execute-sync.ts","webpack:///./scripts/lib/command-engine/general-commands/execute-async.ts","webpack:///./scripts/lib/command-engine/general-commands/wait.ts","webpack:///./scripts/lib/command-engine/log-commands/index.ts","webpack:///./scripts/lib/command-engine/log-commands/log.ts","webpack:///./scripts/lib/command-engine/unserializable-commands/index.ts","webpack:///./scripts/lib/command-engine/unserializable-commands/execute-js.ts","webpack:///../node_modules/mobile-detector/index.js"],"names":[],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,mBAAmB;AAClD,sCAAsC,yBAAyB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,iBAAiB,EAAE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gC;;;;;;;;;;;;;;;;;;;;;;;;;AChRA;AAAA;AACA;AACA,+DAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,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ACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yDAAyD,OAAO;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA,2DAA2D;AAC3D,+DAA+D;AAC/D,mEAAmE;AACnE,uEAAuE;AACvE;AACA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,2DAA2D,YAAY;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA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","file":"iv.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 356ca330095d57990274","import { toType, traverseObject } from 'happy-helpers';\nimport { qsaToArray } from '../../test-support/dom-commands';\nexport { qsaToArray }\n\nexport function getRandomInt(min: number, max: number): number {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport function wait(time?: number) {\n  return new Promise(res => {\n    setTimeout(res, time);\n  })\n}\n\nfunction safeCloneObject<T extends object>(obj: T): T {\n  const outgoing = {};\n  traverseObject(obj, (prop, value) => {\n    if (toType(value) === 'array') {\n      outgoing[prop] = nearClone(value);\n    } else if (toType(value) === 'object') {\n      outgoing[prop] = safeCloneObject(value);\n    } else {\n      outgoing[prop] = value;\n    }\n  }, false, false);\n  return outgoing as T;\n}\n\nexport function nearClone<T extends any>(obj: T): T {\n  const type = toType(obj);\n\n  if (isObject(obj)) {\n    return safeCloneObject(obj);\n  } else if (type === 'array') {\n    return obj.map(x => nearClone(x))\n  } else {\n    return obj;\n  }\n}\n\nfunction isObject(obj: any): obj is object {\n  return toType(obj) === 'object';\n}\n\nexport function directDescendants(element: HTMLElement, selector): HTMLElement[] | [null] {\n  const oldClass = element.getAttribute('class');\n  element.setAttribute('class', oldClass + \" IV-searching\");\n  const qsa: NodeListOf<HTMLElement> = (element.parentNode as HTMLElement).querySelectorAll('.IV-searching > ' + selector);\n  element.setAttribute('class', oldClass);\n  return qsaToArray(qsa);\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/utils.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// see https://javascriptweblog.wordpress.com/2011/08/08/fixing-the-javascript-typeof-operator/\r\n// via http://stackoverflow.com/a/7390612/1386201\r\n/*\r\n    toType({a: 4}); //\"object\"\r\n    toType([1, 2, 3]); //\"array\"\r\n    (function() {console.log(toType(arguments))})(); //\"arguments\"\r\n    toType(new ReferenceError); //\"error\"\r\n    toType(new Date); //\"date\"\r\n    toType(/a-z/); //\"regexp\"\r\n    toType(Math); //\"math\"\r\n    toType(JSON); //\"json\"\r\n    toType(new Number(4)); //\"number\"\r\n    toType(new String(\"abc\")); //\"string\"\r\n    toType(new Boolean(true)); //\"boolean\"\r\n    toType(null); //\"null\"\r\n    toType(); //\"undefined\"\r\n    toType( () => {} ); //\"function\"\r\n*/\r\nfunction toType(val) {\r\n    return ({}).toString.call(val).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();\r\n}\r\nexports.toType = toType;\r\nfunction round(value, decimals) {\r\n    if (decimals === void 0) { decimals = 2; }\r\n    return Number(Math.round(Number(value + 'e' + decimals)) + 'e-' + decimals);\r\n}\r\nexports.round = round;\r\nfunction clone(obj) {\r\n    return JSON.parse(JSON.stringify(obj));\r\n}\r\nexports.clone = clone;\r\nfunction isEmpty(val) {\r\n    var emptyTypes = ['null', 'undefined'];\r\n    var checkableTypes = ['object', 'array', 'arguments', 'json', 'string'];\r\n    var type = toType(val);\r\n    if (emptyTypes.indexOf(type) > -1) {\r\n        return true;\r\n    }\r\n    if (checkableTypes.indexOf(type) > -1) {\r\n        if (type === 'string')\r\n            return val.length === 0; // IE fails on the next line if a string.\r\n        if (Object.getOwnPropertyNames(val).length === 0)\r\n            return true;\r\n        return val.length === 0;\r\n    }\r\n    // other types return false because they are, by nature, filled ()\r\n    return false;\r\n}\r\nexports.isEmpty = isEmpty;\r\nfunction isNotEmpty(val) {\r\n    return !isEmpty(val);\r\n}\r\nexports.isNotEmpty = isNotEmpty;\r\nfunction wrapObjectWithProperty(obj, propName, preserveOriginal) {\r\n    if (preserveOriginal === void 0) { preserveOriginal = true; }\r\n    var wrapper = {};\r\n    var newObj = preserveOriginal ? clone(obj) : obj;\r\n    wrapper[propName] = newObj;\r\n    return wrapper;\r\n}\r\nexports.wrapObjectWithProperty = wrapObjectWithProperty;\r\nfunction isObject(x) {\r\n    return (toType(x) === 'object');\r\n}\r\nexports.isObject = isObject;\r\n// Traverses an object.\r\n// callback should return an array with a key, then a value if constructing a\r\n// new object is desired. Kind of like Array.map, but for objects\r\nfunction traverseObject(obj, callback, recursive, preserveOriginal) {\r\n    if (recursive === void 0) { recursive = false; }\r\n    if (preserveOriginal === void 0) { preserveOriginal = true; }\r\n    var newObject = preserveOriginal ? clone(obj) : obj;\r\n    var returnedObj = {};\r\n    for (var key in newObject) {\r\n        if (newObject.hasOwnProperty(key) === false)\r\n            continue;\r\n        if (isObject(newObject[key]) && recursive) {\r\n            var args = Array.from(arguments);\r\n            var argsMinusFirst = args.slice().slice(1);\r\n            var recursedObject = traverseObject.apply(this, [newObject[key]].concat(argsMinusFirst));\r\n            if (!isEmpty(recursedObject)) {\r\n                newObject[key] = recursedObject;\r\n            }\r\n        }\r\n        var keyValArray = callback(key, newObject[key]);\r\n        if (Array.isArray(keyValArray) && keyValArray.length === 2) {\r\n            returnedObj[keyValArray[0]] = keyValArray[1];\r\n        }\r\n        else if (!isEmpty(keyValArray)) {\r\n            throw new Error(\"It looks like you might have been trying to construct a new object, but you returned something other than an array that looks like [key, value]. You returned \" + keyValArray);\r\n        }\r\n    }\r\n    return returnedObj;\r\n}\r\nexports.traverseObject = traverseObject;\r\nfunction nestedPropertyDetails(obj, propertyPath) {\r\n    var pathParts = propertyPath.split('.');\r\n    var currentObject = obj;\r\n    var exists = true;\r\n    var existingPath = [];\r\n    while (exists && pathParts.length > 0) {\r\n        var newPart = pathParts.shift();\r\n        if (newPart && currentObject[newPart]) {\r\n            existingPath.push(newPart);\r\n            currentObject = currentObject[newPart];\r\n        }\r\n        else {\r\n            exists = false;\r\n        }\r\n    }\r\n    return {\r\n        exists: exists,\r\n        existingPath: existingPath.join('.'),\r\n        finalValidProperty: currentObject,\r\n    };\r\n}\r\nexports.nestedPropertyDetails = nestedPropertyDetails;\r\nfunction nestedPropertyTest(obj, propertyPath, callback) {\r\n    var details = nestedPropertyDetails(obj, propertyPath);\r\n    if (details.exists) {\r\n        return !!callback(details.finalValidProperty);\r\n    }\r\n    return false;\r\n}\r\nexports.nestedPropertyTest = nestedPropertyTest;\r\nfunction nestedPropertyExists(obj, propertyPath) {\r\n    return nestedPropertyDetails(obj, propertyPath).exists;\r\n}\r\nexports.nestedPropertyExists = nestedPropertyExists;\r\nfunction changePropsInitialCase(obj, whichCase, recursive, preserveOriginal) {\r\n    if (recursive === void 0) { recursive = false; }\r\n    if (preserveOriginal === void 0) { preserveOriginal = true; }\r\n    var makeAspVersion = (whichCase === 'UpperFirst') ? true : false;\r\n    var newObj = preserveOriginal ? clone(obj) : obj;\r\n    var regex = makeAspVersion ? /[a-z]/ : /[A-z]/;\r\n    return traverseObject(newObj, function (key, prop) {\r\n        var originals = [key, prop];\r\n        if (typeof key !== 'string')\r\n            return originals;\r\n        if (key.charAt(0).match(regex) === null)\r\n            return originals;\r\n        var newKey = makeAspVersion ? firstCharToUpper(key) : firstCharToLower(key);\r\n        return [newKey, prop];\r\n    }, recursive);\r\n}\r\nexports.changePropsInitialCase = changePropsInitialCase;\r\nfunction firstCharToUpper(str) {\r\n    return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\nexports.firstCharToUpper = firstCharToUpper;\r\nfunction firstCharToLower(str) {\r\n    return str.charAt(0).toLowerCase() + str.slice(1);\r\n}\r\nexports.firstCharToLower = firstCharToLower;\r\nfunction convertPropKeysForAsp(obj) {\r\n    return changePropsInitialCase(obj, 'UpperFirst', true);\r\n}\r\nexports.convertPropKeysForAsp = convertPropKeysForAsp;\r\nfunction convertPropKeysForJs(obj) {\r\n    return changePropsInitialCase(obj, 'lowerFirst', true);\r\n}\r\nexports.convertPropKeysForJs = convertPropKeysForJs;\r\nfunction valuesArrayFromObject(obj) {\r\n    if (!isObject(obj)) {\r\n        throw new Error(\"'obj' was not an object. Was \" + toType(obj));\r\n    }\r\n    return Object.keys(obj).map(function (key) { return obj[key]; });\r\n}\r\nexports.valuesArrayFromObject = valuesArrayFromObject;\r\nfunction objectContainsValue(val, obj) {\r\n    return valuesArrayFromObject(obj).indexOf(val) !== -1;\r\n}\r\nexports.objectContainsValue = objectContainsValue;\r\nfunction objectKeyForValue(val, obj) {\r\n    if (!objectContainsValue(val, obj))\r\n        return false;\r\n    return Object.keys(obj).reduce(function (a, currentKey) {\r\n        if (obj[currentKey] === val) {\r\n            a = currentKey;\r\n        }\r\n        return a;\r\n    }, '');\r\n}\r\nexports.objectKeyForValue = objectKeyForValue;\r\nfunction forceArray(val) {\r\n    var emptyReturns = ['null', 'undefined'];\r\n    if (emptyReturns.indexOf(toType(val)) !== -1)\r\n        return [];\r\n    if (toType(val) !== 'array') {\r\n        return [val];\r\n    }\r\n    return val;\r\n}\r\nexports.forceArray = forceArray;\r\nvar noCircularRefs = function () {\r\n    var valCache = [];\r\n    var keyCache = [];\r\n    var isFirstRun = true;\r\n    return function (key, value) {\r\n        if (typeof value === 'object' && value !== null) {\r\n            if (isFirstRun) {\r\n                key = '__BASE_OBJECT__'; // eslint-disable-line no-param-reassign\r\n                isFirstRun = false;\r\n            }\r\n            var indexOfFoundValue = valCache.indexOf(value);\r\n            if (indexOfFoundValue !== -1) {\r\n                // Circular reference found, discard key\r\n                return \"[circular reference of \" + keyCache[indexOfFoundValue] + \"]\";\r\n            }\r\n            // Store value in our collection\r\n            valCache.push(value);\r\n            keyCache.push(key);\r\n        }\r\n        return value; // eslint-disable-line consistent-return\r\n    };\r\n};\r\nfunction stringify(obj, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var defaults = {\r\n        tabLength: 2,\r\n        stripQuotes: false,\r\n        sort: false,\r\n    };\r\n    var settings = Object.assign({}, defaults, options);\r\n    var tabLength = settings.tabLength, stripQuotes = settings.stripQuotes, sort = settings.sort;\r\n    if (sort) {\r\n        if (toType(obj) === 'array') {\r\n            var newObj = obj.sort();\r\n            return finalStringification(newObj, tabLength, stripQuotes);\r\n        }\r\n        else if (toType(obj) === 'object') {\r\n            var newObj_1 = {};\r\n            var keys = Object.keys(obj).sort();\r\n            keys.forEach(function (key) {\r\n                newObj_1[key] = obj[key];\r\n            });\r\n            return finalStringification(newObj_1, tabLength, stripQuotes);\r\n        }\r\n        return finalStringification(obj, tabLength, stripQuotes);\r\n    }\r\n    return finalStringification(obj, tabLength, stripQuotes);\r\n}\r\nexports.stringify = stringify;\r\nfunction finalStringification(obj, tabLength, stripQuotes) {\r\n    var str = JSON.stringify(obj, noCircularRefs(), tabLength);\r\n    if (stripQuotes) {\r\n        str = str.replace(/\"(.*?)\": /g, '$1: ');\r\n    }\r\n    return str;\r\n}\r\n/**\r\n * Returns true if the deep values of an object are equal.\r\n */\r\nfunction deepEqual(objA, objB) {\r\n    var stringifyOptions = { sort: true };\r\n    return stringify(objA, stringifyOptions) === stringify(objB, stringifyOptions);\r\n}\r\nexports.deepEqual = deepEqual;\r\n/*\r\n  The following are not tested with `npm test` and are unreliable for certain situations.\r\n  see http://stackoverflow.com/a/8876069\r\n*/\r\nfunction mediaWidth() {\r\n    return Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\r\n}\r\nexports.mediaWidth = mediaWidth;\r\nfunction mediaHeight() {\r\n    return Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\r\n}\r\nexports.mediaHeight = mediaHeight;\r\n//# sourceMappingURL=main.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/happy-helpers/lib/main.js\n// module id = 1\n// module chunks = 0 1","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/tslib/tslib.es6.js\n// module id = 2\n// module chunks = 0 1","export const defaults = {\n  baseElementId: 'IV-view',\n  buttonContainerClass: 'IV-button-container',\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/config.ts","export function createEngine(input: CommandEngine.ctor, ...functionFactories) {\n  const { settings, nodes, commandRunnerClass, variables } = input;\n  const engine = new IvCommandEngine(settings, nodes, commandRunnerClass, variables);\n\n  functionFactories.forEach(factory => {\n    engine.registerTargetFunction(factory);\n  })\n\n  return engine;\n}\n\nexport class IvCommandEngine implements CommandEngine.Class {\n  private targetFunctions: Runner.TargetFunctionObject = {};\n  private runners: {[x: string]: Runner.Class} = {};\n\n  constructor(\n    private settings: CommandEngine.ctor['settings'],\n    private nodes: CommandEngine.ctor['nodes'],\n    private commandRunnerClass: CommandEngine.ctor['commandRunnerClass'],\n    private variables: CommandEngine.ctor['variables'],\n  ) { }\n\n  registerTargetFunction(factory: CommandEngine.TargetFunctionFactory) {\n    const { settings, variables } = this;\n    const input = { settings, variables, commandEngine: this };\n    Object.assign(this.targetFunctions, factory(input));\n  }\n\n  public run(name?: string) {\n    this.createRunners();\n    if (name) {\n      this.runNodeByName(name);\n    } else {\n      this.runFirstNode();\n    }\n  }\n\n  public runCommands(commands: ICommand.AnyCommand[]) {\n    return this.createCommandRunner(commands).run();\n  }\n\n  private createRunners() {\n    const targetFunctions = this.targetFunctions;\n    this.nodes.forEach(node => {\n      const commands = node.getCommands();\n      this.runners[node.name] = this.createCommandRunner(commands);\n    })\n  }\n\n  private createCommandRunner(commands: ICommand.AnyCommand[]): Runner.Class {\n    return new this.commandRunnerClass({\n      variables: this.variables,\n      targetFunctions: this.targetFunctions,\n      commands\n    })\n  }\n\n  private runFirstNode() {\n    if (this.nodes[0]) {\n      this.getRunnerForNode(this.nodes[0].name).run();\n    }\n  }\n\n  public runNodeByName(name: string): Promise<Runner.Class> {\n    return this.getRunnerForNode(name).run();\n  }\n\n  private getRunnerForNode(name: string) {\n    return this.runners[name];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/command-engine.ts","export { IV } from './iv';\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/index.ts","import { Node } from './node';\nimport { createDomEngine, IvCommandEngine } from './command-engine';\nimport { isMobileOrTablet } from 'mobile-detector';\nimport { qsaToArray } from './utils';\nimport { defaults } from './config';\n\ninterface ConstructorInput {\n  variables?: Partial<IV.Variables>;\n  settings?: Partial<IV.Settings>;\n}\n\nexport class IV {\n  public variables: Partial<IV.Variables> = {};\n  public settings: Partial<IV.Settings> = {};\n\n  private defaultSettings: IV.Settings = {\n    baseContainer: document.getElementById(defaults.baseElementId),\n    baseVideoUrl: '',\n    bgAudioUrl: null,\n    bgAudioLoop: true,\n  }\n\n  private engine: IvCommandEngine;\n\n  private nodes: Node[] = []\n\n  constructor(initialState: ConstructorInput = {}) {\n    const {variables, settings} = initialState;\n    if (variables) {\n      this.variables = variables;\n    }\n    if (settings) {\n      this.settings = settings;\n    }\n    this.validateDom();\n  }\n\n  public node(name: string) {\n    const newNode = new Node(name);\n    this.nodes.push(newNode);\n    return newNode; // Beginning of chainable node\n  }\n\n  public defineNode = this.node; // tslint:disable-line member-ordering\n\n  public run(name?: string) {\n    this.runOnAnyPlatform(this.getEngine(), name);\n  }\n\n  public createRunButton(name?: string, node?: string): HTMLButtonElement {\n    const engine = this.getEngine();\n    const btn = this.createKickoffButton(name)\n    this.runViaButton(btn, engine, node);\n    return btn;\n  }\n\n  private getEngine(): IvCommandEngine {\n    return this.engine ? this.engine : this.engine = createDomEngine({\n      settings: this.getSettings(),\n      nodes: this.nodes,\n      variables: this.variables,\n    });\n  }\n\n  private validateDom() {\n    if (!this.getSetting('baseContainer')) {\n      throw new Error(`No valid node present in HTML`)\n    }\n  }\n\n  private getSetting(name: keyof IV.Settings) {\n    if (this.settings[name] !== undefined) return this.settings[name];\n    return this.defaultSettings[name];\n  }\n\n  private getSettings() {\n    const settings = {};\n    for (let key in this.defaultSettings) {\n      settings[key] = this.getSetting(key as keyof IV.Settings);\n    }\n    return settings as IV.Settings;\n  }\n\n  private runOnAnyPlatform(engine: IvCommandEngine, name?: string) {\n    if (this.isMobileOrTablet()) {\n      this.runViaButton(this.createKickoffButton(), engine, name);\n    } else {\n      engine.run(name);\n    }\n  }\n\n  private isMobileOrTablet() {\n    return isMobileOrTablet();\n  }\n\n  private createKickoffButton(label = 'Kickoff') {\n    var startBtn = document.createElement('button');\n    startBtn.type = 'button';\n    startBtn.id = 'IV-kickoff';\n    startBtn.innerHTML = label;\n    (this.getSettings().baseContainer as HTMLElement).appendChild(startBtn);\n    return startBtn;\n  }\n\n  private runViaButton(btn: HTMLElement, engine, name?: string) {\n    const handleClick = () => {\n      btn.removeEventListener('click', handleClick);\n      this.prepVideosForMobile();\n      btn.remove();\n      engine.run(name);\n    }\n    btn.addEventListener('click', handleClick);\n  }\n\n  private prepVideosForMobile() {\n    // TODO: move this method to VideoController\n    // and call from here, or with registered kickoff event\n    const videos = qsaToArray(document.querySelectorAll('video')) as HTMLVideoElement[]\n    videos.forEach(vid => {\n      vid.play();\n      vid.pause();\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/iv.ts","import { PlayVideoInput, VideoCommandsBuilder } from './node-builders/video/video-commands-builder';\nimport { ButtonOptions, ButtonCommandsBuilder } from './node-builders/button-commands-builder';\n\ninterface SwitchBase {\n  var: string;\n}\n\ninterface Is extends SwitchBase {\n  is: string | number | boolean;\n}\n\ninterface IsGreaterThan extends SwitchBase {\n  isGreaterThan: number;\n}\n\ninterface IsLessThan extends SwitchBase {\n  isLessThan: number;\n}\n\ninterface IsBetween extends SwitchBase {\n  isBetween: number[];\n}\n\n\ninterface IsGreaterThanOrEqualTo extends SwitchBase {\n  isGreaterThanOrEqualTo: number;\n}\n\ninterface IsLessThanOrEqualTo extends SwitchBase {\n  isLessThanOrEqualTo: number;\n}\n\ntype ifOptions  =\n    Is\n  | IsGreaterThan\n  | IsLessThan\n  | IsGreaterThanOrEqualTo\n  | IsLessThanOrEqualTo\n  | IsBetween\n\n\ninterface RandomOptions {\n  min: number;\n  max: number;\n  storeIn: string;\n}\n\ninterface CalculateBase {\n  var: string;\n  storeIn: string;\n}\n\ninterface CalculateAdd extends CalculateBase {\n  add: number;\n}\n\ninterface CalculateSubtract extends CalculateBase {\n  subtract: number;\n}\n\ninterface CalculateMultiply extends CalculateBase {\n  multiply: number;\n}\n\ninterface CalculateDivide extends CalculateBase {\n  divide: number;\n}\n\ntype CalculateOptions =\n    CalculateAdd\n  | CalculateSubtract\n  | CalculateMultiply\n  | CalculateDivide\n\ninterface AssignVariableWithVar {\n  storeIn: string;\n  var: string;\n}\n\ninterface AssignVariableWithValue  {\n  storeIn: string;\n  value: string | number | Array<string | number>;\n}\n\ntype AssignVariableOptions =  AssignVariableWithVar | AssignVariableWithValue;\n\ninterface AudioAction {\n  action: 'play' | 'pause' | 'load';\n  url?: string;\n  loop?: boolean;\n}\n\ninterface AudioShorthand {\n  play?: string;\n  load?: string;\n  loop?: boolean;\n}\n\ntype AudioInput = 'play' | 'pause' | 'loop' | AudioShorthand | AudioAction;\n\nexport class Node implements IvNode {\n\n  private commands: ICommand.AnyCommand[] = [];\n  private switchDo: ICommand.Switch;\n  private pushType: string = 'main';\n  private videoCommands = new VideoCommandsBuilder();\n  private buttonCommands = new ButtonCommandsBuilder();\n\n  constructor( public name: string ) { }\n\n\n  public getCommands() {\n    return this.commands;\n  }\n\n  private pusher(command: ICommand.AnyCommand[] | ICommand.AnyCommand){\n    if (Array.isArray(command)) return command.forEach(c => this.pusher(c))\n    if(this.pushType == 'condition')\n    {\n      this.switchDo.do[this.switchDo.do.length - 1].commands.push(command);\n    }\n    else if(this.pushType == 'default')\n    {\n      this.switchDo.defaultCommands.push(command);\n    }\n    else\n    {\n      this.commands.push(command);\n    }\n  }\n\n  public addButton(input: ButtonOptions): this {\n    const cmd = this.buttonCommands.addButton(input);\n    this.pusher(cmd);\n    return this;\n  }\n\n  public removeAllButtons(): this {\n    const cmd = this.buttonCommands.removeAllButtons();\n    this.pusher(cmd);\n    return this;\n  }\n\n  public if(optionsObj: ifOptions): this {\n    //TODO: need to instantiate a new for each if.\n    if (this.switchDo == null)\n    {\n    this.switchDo = {name: 'switch', do: [], defaultCommands: []};\n    }\n    this.pushType = 'condition';\n      if (optionsObj['is'])\n      {\n        this.switchDo.do.push({varName: optionsObj.var, is: optionsObj['is'], commands: []});\n      }\n      else if (optionsObj['isGreaterThan'])\n      {\n        this.switchDo.do.push({varName: optionsObj.var, isGreaterThan: optionsObj['isGreaterThan'], commands: []});\n      }\n      else if (optionsObj['isLessThan'])\n      {\n        this.switchDo.do.push({varName: optionsObj.var, isLessThan: optionsObj['isLessThan'], commands: []});\n      }\n      else if (optionsObj['isBetween'])\n      {\n        this.switchDo.do.push({varName: optionsObj.var, isBetween: optionsObj['isBetween'], commands: []});\n      }\n      else if (optionsObj['isGreaterThanOrEqualTo'])\n      {\n        this.switchDo.do.push({varName: optionsObj.var, isGreaterThanOrEqualTo: optionsObj['isGreaterThanOrEqualTo'], commands: []});\n      }\n      else if (optionsObj['isLessThanOrEqualTo'])\n      {\n        this.switchDo.do.push({varName: optionsObj.var, isGreaterThanOrEqualTo: optionsObj['isLessThanOrEqualTo'], commands: []});\n      }\n    return this;\n  }\n\n  public else(): this {\n    this.pushType = 'default';\n    return this;\n  }\n\n  public endIf(): this {\n    this.pushType = 'main';\n    this.pusher(this.switchDo);\n    return this;\n  }\n\n  public playVideo(...input: PlayVideoInput[]) : this {\n    this.pusher(this.videoCommands.playVideo(...input))\n    return this;\n  }\n\n  public js(func: () => any): this {\n    this.pusher({name: 'executeJs', func})\n    return this\n  }\n\n  public videoPlay(...input: PlayVideoInput[]): this {\n    console.warn('The `videoPlay` command is deprecated. Please Use `playVideo`')\n    this.pusher(this.videoCommands.playVideo(...input))\n    return this;\n  }\n\n  public getRandom(objSettings: RandomOptions) : this {\n    const command: ICommand.GetRandomNumber = { name:'getRandomNumber', min: objSettings.min, max: objSettings.max, assignTo: objSettings.storeIn };\n    this.pusher(command);\n    return this;\n  }\n\n  public setVariable(objSettings: AssignVariableOptions) : this {\n    if (objSettings['var'])\n    {\n      const command: ICommand.AssignFromVariable = { name:'assignFromVariable', varName : objSettings['var'],  assignTo: objSettings.storeIn };\n      this.pusher(command);\n    }\n    else\n    {\n      if(objSettings['value'])\n      {\n        const command: ICommand.AssignVariable = { name:'assignVariable', value: objSettings['value'] , assignTo: objSettings.storeIn };\n        this.pusher(command);\n      }\n\n    }\n    return this;\n  }\n\n\n  public wait(time: number) : this {\n    const msTime = time * 1000;\n    const command: ICommand.Wait = { name:'wait', time: msTime };\n    this.pusher(command);\n    return this;\n  }\n\n\n  public calculate(optionsObj: CalculateOptions) : this {\n    var op:string = '';\n    var val:number = 0;\n    if(optionsObj['add'])\n    {\n      op = 'add';\n      val = optionsObj['add'];\n    }\n    else if(optionsObj['subtract'])\n    {\n      op = 'subtract';\n      val = optionsObj['subtract'];\n    }\n    else if(optionsObj['multiply'])\n    {\n      op = 'multiply';\n      val = optionsObj['multiply'];\n    }\n    else if(optionsObj['divide'])\n    {\n      op = 'divide';\n      val = optionsObj['divide'];\n    }\n    else{\n      const received = [];\n      for (const prop in optionsObj) {\n        if (optionsObj.hasOwnProperty(prop)) {\n          received.push(`\"${prop}\"`);\n        }\n      }\n      const message = `Unknown options passed into Calculate(). Was expecting \"var\", \"storeIn\" and then one of \"add\", \"subtract\", \"multiply\", or \"delete\". Received [${received.join(', ')}]`\n      throw new Error(message)\n    }\n\n    const command: ICommand.Calculate = {\n      name:'calculate',\n      varName:optionsObj.var,\n      operation: op as ICommand.Calculate['operation'],\n      value: val,\n      assignTo: optionsObj.storeIn\n    };\n    this.pusher(command);\n    return this;\n  }\n\n  public goto(nodeName: string) : this {\n    const commands = this.buildGoToNodeCommandSet(nodeName);\n    commands.forEach(c => this.pusher(c))\n    return this;\n  }\n\n  private buildGoToNodeCommandSet(nodeName: string): [\n    ICommand.GoToNode,\n    ICommand.StopExecution\n  ] {\n    return [\n      { name: 'goToNode', nodeName: nodeName },\n      { name: 'stopExecution' }\n    ];\n  }\n\n  public execute(nodeName: string) : this {\n    const command: ICommand.ExecuteAsync = {name:'executeAsync', nodeName: nodeName};\n    this.pusher(command);\n    return this;\n  }\n\n  public log(anything: any): this {\n    const command: ICommand.Log = {\n      name: 'log',\n      value: anything,\n    };\n    this.pusher(command);\n    return this;\n  }\n\n  public goSub(nodeName: string) : this {\n    const command: ICommand.ExecuteSync = {name:'executeSync', nodeName: nodeName};\n    this.pusher(command);\n    return this;\n  }\n\n\n  public return() : this {\n    const commandStop: ICommand.StopExecution = {name:'stopExecution'};\n    this.pusher(commandStop);\n    return this;\n  }\n\n  public bgAudio(input: AudioInput) {\n    const command = this.bgAudioCommand(input)\n    this.pusher(command);\n    return this;\n  }\n\n  private bgAudioCommand(input: AudioInput): ICommand.AudioSource {\n    if (typeof input === 'string') {\n      return {\n        name: 'audioSource',\n        target: 'BG',\n        do: input === 'loop' ? null : input,\n        loop: input === 'loop' ? true : undefined,\n      }\n    } else {\n      if ((input as AudioAction).action) {\n        return {\n          name: 'audioSource',\n          target: 'BG',\n          do: (input as AudioAction).action,\n          file: (input as AudioAction).url,\n          loop: (input as AudioAction).loop,\n        }\n      } else {\n        const { play, load, loop } = input as AudioShorthand;\n        if (play) {\n          return {\n            name: 'audioSource',\n            target: 'BG',\n            do: 'play',\n            file: play,\n            loop\n          }\n        } else if (load) {\n          return {\n            name: 'audioSource',\n            target: 'BG',\n            do: 'load',\n            file: load,\n            loop\n          }\n        } else {\n          return {\n            name: 'audioSource',\n            target: 'BG',\n            do: null,\n            file: load,\n            loop\n          }\n        }\n      }\n    }\n  }\n\n  public setVolume(input: {target: 'bg'|'sfx', volume: number, time?: number}): this {\n    let {volume, target, time} = input;\n    const command: ICommand.AudioVolume = {\n      name: 'audioVolume',\n      target: target.toUpperCase() as 'BG' | 'SFX',\n      volume,\n      time: time ? time * 1000 : time,\n    }\n    this.pusher(command);\n    return this;\n  }\n\n  public clearVideo(time?: number) : this {\n    this.pusher(this.videoCommands.clearVideo(time));\n    return this;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/node.ts","interface VideoSettings {\n  url: string;\n  // loop: boolean; // TODO: implement\n  goTo: string;\n  runSync: string;\n  runAsync: string;\n  js: (...args) => any\n}\n\ntype VideoOptions = Partial<VideoSettings>\n\nexport type PlayVideoInput = (string | VideoOptions);\n\nexport class VideoCommandsBuilder {\n  public playVideo(...input: PlayVideoInput[]): ICommand.PlayVideo[] {\n    if (Array.isArray(input[0])) {\n      return this.handleDepricatedArrayInput(input[0] as PlayVideoInput[]);\n    } else {\n      return this.handleArrayInput(input);\n    }\n  }\n\n  public clearVideo(time?: number): Array<ICommand.Wait | ICommand.ClearVideo> {\n    const commands = []\n\n    if (time) {\n      const msTime = time * 1000;\n      const command: ICommand.Wait = { name: 'wait', time: msTime };\n      commands.push(command);\n    }\n\n    const clearVideoCommand: ICommand.ClearVideo = { name: 'clearVideo' };\n    commands.push(clearVideoCommand);\n\n    return commands;\n  }\n\n  private handleDepricatedArrayInput(array: PlayVideoInput[]) {\n    console.warn('Passing an array to playVideo (or the alias \"videoPlay\") is deprecated. Just pass values as individual arguments. (Remove the `[` and `]` from the method call.)')\n    return this.playVideo(...array);\n  }\n\n  private handleArrayInput(input: Array<string | VideoOptions>): ICommand.PlayVideo[] {\n    const singleCommand = input\n      .map(objOrStr => this.guaranteedOptionsObject(objOrStr))\n      .reduce(this.mergeMissingUrlsReducer, [])\n      .map(vo => this.createPlayCommandFromOptions(vo))\n      .reduceRight(this.reduceOnCompleteIntoPrevious, null)\n\n    return [singleCommand]\n  }\n\n  private mergeMissingUrlsReducer(a: VideoOptions[], current: VideoOptions): VideoOptions[] {\n    if (current.url) {\n      a.push(current);\n    } else {\n      const lastObj = a[a.length - 1];\n      if (!lastObj) {\n        throw new Error('Previous object does not exist. This error can occur if the first object passed to `playVideo` does not contain a url.');\n      }\n      Object.assign(lastObj, current);\n    }\n    return a;\n  }\n\n  private reduceOnCompleteIntoPrevious(\n    a: ICommand.PlayVideo | null,\n    command: ICommand.PlayVideo\n  ) {\n    if (!a) return command;\n    command.onComplete = command.onComplete || [];\n    command.onComplete.push(a);\n    return command;\n  }\n\n  private guaranteedOptionsObject(singleInput: PlayVideoInput): VideoOptions {\n    if (typeof singleInput === 'object') {\n      return singleInput;\n    } else {\n      return {url: singleInput};\n    }\n  }\n\n  private createPlayCommandFromOptions(obj: VideoOptions) {\n    const addedProps = { name: 'playVideo' };\n    const remappedProps = {file: obj.url};\n    const commandProps = this.commandOptionsToCommands(obj);\n    const finalObj = Object.assign({}, addedProps, remappedProps, commandProps) as ICommand.PlayVideo;\n    return finalObj;\n  }\n\n  private commandOptionsToCommands(inputObj: VideoOptions): Partial<ICommand.PlayVideo> {\n    let onComplete: ICommand.AnyCommand[] = [];\n    function addCommands(commands: ICommand.AnyCommand | ICommand.AnyCommand[]) {\n      onComplete = onComplete.concat(commands)\n    }\n\n    if (inputObj.runAsync) {\n      addCommands({\n        name: 'executeAsync',\n        nodeName: inputObj.runAsync\n      });\n    }\n    if (inputObj.js) {\n      addCommands({\n        name: 'executeJs',\n        func: inputObj.js\n      });\n    }\n    if (inputObj.runSync) {\n      addCommands({\n        name: 'executeSync',\n        nodeName: inputObj.runSync\n      });\n    }\n    if (inputObj.goTo) {\n      addCommands([\n        { name: 'goToNode', nodeName: inputObj.goTo },\n        { name: 'stopExecution' }\n      ]);\n    }\n\n    return onComplete.length > 0 ? {onComplete} : {};\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/node-builders/video/video-commands-builder.ts","export interface ButtonOptions {\n  id: string;\n  text: string;\n  goTo?: string;\n  runAsync?: string;\n  remove?: boolean;\n  js?: () => any,\n}\n\nexport class ButtonCommandsBuilder {\n  public addButton(input: ButtonOptions) {\n    const { id, text } = input;\n    const cmd: ICommand.AddButton = {\n      name: 'addButton',\n      id,\n      text,\n      onClick: this.createCommands(input)\n    }\n    return cmd;\n  }\n\n  public removeAllButtons(): ICommand.RemoveAllButtons {\n    return {\n      name: 'removeAllButtons'\n    }\n  }\n\n  private createCommands(input: ButtonOptions): ICommand.AnyCommand[] {\n    const { runAsync, goTo, js, remove, id } = input;\n    const commands: ICommand.AnyCommand[] = [];\n\n    if (runAsync) {\n      commands.push({\n        name: 'executeAsync',\n        nodeName: runAsync,\n      })\n    }\n    if (js) {\n      commands.push({\n        name: 'executeJs',\n        func: js\n      })\n    }\n    if (remove) {\n      commands.push({\n        name: 'removeButton',\n        id\n      })\n    }\n    if (goTo) {\n      commands.push({\n        name: 'goToNode',\n        nodeName: goTo\n      },{\n        name: 'stopExecution'\n      })\n    }\n\n    return commands;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/node-builders/button-commands-builder.ts","export * from './command-engine';\nexport * from './dom-engine';\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/index.ts","import { createEngine } from './command-engine';\nimport { CommandRunner } from './command-runner';\n\nimport * as dom from './dom-commands';\nimport * as any from './general-commands';\nimport * as log from './log-commands';\nimport * as non from './unserializable-commands';\n\nconst factories: CommandEngine.TargetFunctionFactory[] = [\n  dom.playVideoFactory,\n  dom.audioSourceFactory,\n  dom.audioVolumeFactory,\n  any.goToNodeFactory,\n  any.stopExecutionFactory,\n  any.assignVariableFactory,\n  any.assignFromVariableFactory,\n  any.getRandomNumberFactory,\n  any.calculateFactory,\n  any.switchFactory,\n  log.logFactory,\n  any.pauseExecutionFactory,\n  any.executeSyncFactory,\n  any.waitFactory,\n  any.executeAsyncFactory,\n  non.executeJsFactory,\n  dom.addButtonFactory,\n  dom.removeAllButtonsFactory,\n  dom.removeButtonFactory,\n];\n\nexport function createDomEngine(input: {\n  settings: IV.Settings,\n  nodes: IvNode[],\n  variables: {[x:string]: any}\n}) {\n  const { settings, nodes, variables } = input;\n  return createEngine({\n    commandRunnerClass: CommandRunner,\n    settings,\n    nodes,\n    variables\n  }, ...factories)\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-engine.ts","import { EventEmitter } from 'eventemitter3';\nimport { traverseObject, toType } from 'happy-helpers';\nimport { PartialLiquid } from '../../lib/partial-liquid';\nimport { nearClone } from '../utils';\n\nexport class CommandRunner implements Runner.Class {\n  public status: Runner.Status;\n\n  private events = new EventEmitter();\n  private targets: Runner.ConstructorInput['targetFunctions'] = {};\n  private commands: Runner.ConstructorInput['commands'];\n  private variables: Runner.ConstructorInput['variables']\n  private replacer: PartialLiquid;\n  private runQueue: Array<() => void> = [];\n\n  private getFunctionFor(name: string) {\n    if (!this.targets[name]) {\n      throw new Error(`There is no registered function to execute the \"${name}\" command.`);\n    }\n    return this.targets[name];\n  }\n\n  private nextIndex = 0;\n\n  constructor({commands, targetFunctions, variables}: Runner.ConstructorInput) {\n    this.commands = commands;\n    this.targets = targetFunctions;\n    this.variables = variables;\n    this.replacer = new PartialLiquid(this.variables);\n    this.setStatus('ready');\n  }\n\n  run(): Promise<this> {\n    if (this.canRun()) {\n      return this.doRun();\n    } else {\n      return this.enqueueRun();\n    }\n  }\n\n  on(event, listener) {\n    return this.events.on(event, listener);\n  }\n\n  once(event, listener) {\n    return this.events.once(event, listener);\n  }\n\n  private doRun(): Promise<this> {\n    this.setStatus('running');\n    this.runNextCommand();\n    return Promise.resolve(this);\n  }\n\n  private enqueueRun(): Promise<this> {\n    let doRun: () => void;\n    const willRun: Promise<this> = new Promise(resolve => {\n      doRun = () => {\n        resolve(this.doRun())\n      }\n    })\n    this.runQueue.push(doRun)\n    return willRun;\n  }\n\n  private canRun(): boolean {\n    return this.status !== 'running' && this.status !== 'waiting'\n  }\n\n  private setStatus(status: Runner.Status) {\n    this.events.emit(status);\n    this.status = status;\n  }\n\n  private resetIndex() {\n    this.nextIndex = 0;\n  }\n\n  private advanceIndex() {\n    this.nextIndex++;\n  }\n\n  private runNextCommand() {\n    if (this.status !== 'running') return;\n\n    const cmd = this.commands[this.nextIndex]\n    if (cmd) {\n      this.advanceIndex()\n      this.runCommand(cmd)\n        .then(cmdReturn => this.evaluateReturn(cmdReturn))\n        .then(() => this.runNextCommand())\n    } else {\n      this.exit();\n    }\n  }\n\n  private async evaluateReturn(theReturn: Runner.CommandReturn) {\n    const {commands, requests, asyncCommands} = theReturn;\n    if (asyncCommands) this.asyncSeries(asyncCommands);\n    if (commands) await this.runNewSeries(commands);\n    await this.evaluateRequests(requests);\n  }\n\n  private async evaluateRequests(requests: Runner.CommandReturn['requests']) {\n    if (!requests) return;\n    if (requests.some(r => r === 'exit')) return this.exit();\n    if (requests.some(r => r === 'pause')) return this.pause();\n    return;\n  }\n\n  private exit() {\n    this.resetIndex();\n    const runImmediately = this.runQueue.shift();\n    if (runImmediately) return runImmediately();\n    this.setStatus('done');\n  }\n\n  private pause() {\n    this.setStatus('paused');\n  }\n\n  private asyncSeries(eventualCommands: Promise<Runner.Command[]>) {\n    eventualCommands.then(commands => {\n      this.runNewSeries(commands)\n      .catch((err: Error) => {\n        const beginningMessage = err.message.slice(0,10) + '...'\n        console.error(`the error thrown above (beginning \"${beginningMessage}\") was in an async branch`);\n      })\n    })\n    .catch(err => {\n      if (err === 'cancelled') return;\n      console.error('An error occurred inside a promise for an asyncCommands object. This occurred before the commands were invoked on a runner:');\n      console.error(err);\n    })\n  }\n\n  private runNewSeries(commands: Runner.Command[]) {\n    return new Promise(res => {\n      const runner = new CommandRunner({\n        targetFunctions: this.targets,\n        commands,\n        variables: this.variables\n      });\n      runner.once('done', res);\n      runner.run();\n    }).catch(err => {\n      console.error('a child runner threw an error:')\n      console.error(err)\n      throw err;\n    })\n  }\n\n  private runCommand(incomingCommand: Runner.Command) {\n    const cmd = this.replaceVariables(incomingCommand);\n    const targetFunction = this.getFunctionFor(cmd.name);\n    return targetFunction(cmd);\n  }\n\n  private replaceVariables(incoming: Runner.Command): Runner.Command {\n    let outgoing = nearClone(incoming);\n\n    outgoing = traverseObject(outgoing, (prop, value) => {\n      if (toType(value) === 'string') {\n        value = this.replaceVariableInString(value);\n      }\n      return [prop, value];\n    }, true, false);\n\n    return outgoing;\n  }\n\n\n  private replaceVariableInString(str: string): string {\n    return this.replacer.replace(str);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/command-runner.ts","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/eventemitter3/index.js\n// module id = 14\n// module chunks = 0 1","// Liquid markup (https://shopify.github.io/liquid/) inspired\nimport { toType } from 'happy-helpers';\nimport { getRandomInt } from './utils';\n\nexport class PartialLiquid {\n  private LIQUID_ONE = /\\{\\{(.*?)( ?\\| ?(.*)?)?\\}\\}/\n  private LIQUID_ALL = new RegExp(this.LIQUID_ONE, 'g');\n\n  implementedFilters = {\n    'random': this.randomFilter.bind(this)\n  }\n\n  constructor(private variables: IV.Variables) { }\n\n  public replace(str: string): any {\n    const parts = this.getParts(str);\n    if (!parts) return str;\n    if (parts.whole === str) {\n      return this.sendRawVar(str);\n    } else {\n      return this.replaceAsString(str);\n    }\n  }\n\n  private replaceAsString(str): string {\n    return str.replace(this.LIQUID_ALL, (substring: string) => {\n      return this.filteredVariable(substring).toString();\n    });\n  }\n\n  private getParts(str: string): {whole: string, varName: string, filter: string} | null {\n    const matches = str.match(this.LIQUID_ONE);\n    if (!matches) return null;\n    const [whole, varName, pipePhrase, filter] = matches;\n    return { whole, varName, filter };\n  }\n\n  private sendRawVar(str: string): any {\n    let variable;\n    str.replace(this.LIQUID_ALL, (substring) => {\n      variable = this.filteredVariable(substring)\n      return substring;\n    });\n    return variable;\n  }\n\n  private filteredVariable(substring: string): any {\n    const { whole, varName, filter } = this.getParts(substring);\n    if (filter) {\n      return this.doFilter(varName, filter);\n    } else {\n      return this.variables[varName];\n    }\n  }\n\n  private doFilter(varName: string, filter: string) {\n    const method = this.implementedFilters[filter];\n    if (!method) {\n      throw new Error(`There is no filter called \"${filter}\"`)\n    }\n    return method(varName)\n  }\n\n  private randomFilter(varName: string): any {\n    const values = this.variables[varName] as any[];\n    if (toType(values) !== 'array') {\n      throw new Error('You cannot use the random filter on a non-array');\n    }\n\n    const randomIndex = getRandomInt(0, values.length - 1);\n    return values[randomIndex];\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/partial-liquid.ts","import { defaults } from '../scripts/lib/config'\n\nexport function qsaToArray(qsa: NodeListOf<HTMLElement>): HTMLElement[] {\n  let index = 0;\n  const outArray: HTMLElement[] = []\n  for (index = 0; index < qsa.length; index++) {\n    outArray.push(qsa[index])\n  }\n  return outArray;\n}\n\nexport function querySelectorAll(selector: string) {\n  return qsaToArray(document.querySelectorAll(selector));\n}\n\nexport function getAllVideos(): HTMLVideoElement[] {\n  return qsaToArray(document.querySelectorAll(`#${defaults.baseElementId} video`)) as HTMLVideoElement[];\n}\n\nexport function getCurrentVideo() {\n  return document.getElementById('IV-video-player-1') as HTMLVideoElement;\n}\n\nexport function getNextVideo() {\n  return document.getElementById('IV-video-player-2') as HTMLVideoElement;\n}\n\nexport function getAllAudioPlayers(): HTMLAudioElement[] {\n  return qsaToArray(document.querySelectorAll(`#${defaults.baseElementId} audio`)) as HTMLAudioElement[];\n}\n\nexport function getAudioPlayerNamed(name: string) {\n  return document.getElementById(`IV-audio-player-${name.toLowerCase()}`) as HTMLAudioElement;\n}\n\nexport function getBgAudioPlayer() {\n  return getAudioPlayerNamed('BG');\n}\n\nexport function getSfxAudioPlayer() {\n  return getAudioPlayerNamed('SFX');\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./test-support/dom-commands.ts","export * from './video/play-video';\nexport * from './audio/audio-commands';\nexport * from './buttons/button-commands';\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-commands/index.ts","import { videoController } from './video-controller';\n\nexport const playVideoFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  const baseEl = input.settings.baseContainer as HTMLElement;\n  videoController.createPlayers(baseEl);\n\n  return {'playVideo': (cmd: ICommand.PlayVideo) => {\n    const videoToPlay = `${input.settings.baseVideoUrl}${cmd.file}`;\n    const onPlayerEnd = videoController.playVideo(videoToPlay);\n    const returnObj: Runner.CommandReturn = {};\n\n    if (cmd.onComplete) {\n      const completing = new Promise((res, rej) => {\n        onPlayerEnd.then(() => {\n          if (videoController.getCurrentPlayer().src === videoToPlay) {\n            res(cmd.onComplete);\n          } else {\n            rej('cancelled');\n          }\n        })\n      }) as Promise<Runner.Command[]>\n\n      returnObj.asyncCommands = completing;\n    }\n    return Promise.resolve(returnObj);\n  }}\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-commands/video/play-video.ts","function createVideoPlayer(id: string) {\n  const player = document.createElement('video');\n  player.id = id;\n  player.setAttribute('playsinline', 'true');\n  player.setAttribute('disableRemotePlayback', 'true');\n  const style = 'block';  // fixes the android black frame issue.  Aparently it does not like 'inline'\n  player.style.display = style;\n  return player;\n}\n\nclass VideoController {\n  private baseElement: HTMLElement = document.body;\n  private isFirstPlay = true;\n\n  private players = {\n    current: createVideoPlayer('IV-video-player-1'),\n    standby: createVideoPlayer('IV-video-player-2'),\n  }\n\n  public playVideo(url: string): Promise<any> {\n    const standby = this.getStandbyPlayer();\n    const current = this.getCurrentPlayer();\n    standby.onloadeddata = () => {\n      current.src = url;\n      current.play();\n    }\n    standby.src = url;\n    standby.load() // essential for mobile safari\n    return this.whenPlayerEnds(current);\n  }\n\n  private whenPlayerEnds(player: HTMLVideoElement): Promise<any> {\n    return new Promise((resolve) => {\n      const onEnded = () => {\n        resolve('video ended');\n        player.removeEventListener('ended', onEnded);\n      }\n      player.addEventListener('ended', onEnded);\n    })\n  }\n\n  public createPlayers(baseElement?: HTMLElement): void {\n    this.baseElement = baseElement;\n    this.attachPlayers(); // multiple calls are fine... does not duplicate\n  }\n\n  private attachPlayers() {\n    this.baseElement.appendChild(this.players.standby)\n    this.baseElement.appendChild(this.players.current)\n  }\n\n  public getCurrentPlayer() {\n    return this.players.current;\n  }\n\n  public getStandbyPlayer() {\n    return this.players.standby;\n  }\n}\n\nexport const videoController = new VideoController();\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-commands/video/video-controller.ts","import { audioController } from './audio-controller';\n\nexport const audioSourceFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  const baseEl = input.settings.baseContainer as HTMLElement;\n  audioController.createPlayers(baseEl);\n\n  if (input.settings.bgAudioUrl) {\n    audioController.load('BG', input.settings.bgAudioUrl)\n  }\n  audioController.loop('BG', input.settings.bgAudioLoop)\n\n  return {'audioSource': (cmd: ICommand.AudioSource) => {\n    const {target, file, loop} = cmd;\n    switch (cmd.do) {\n      case 'play':\n        audioController.play(target, file);\n        break;\n      case 'load':\n        audioController.load(target, file);\n        break;\n      case 'pause':\n        audioController.pause(target)\n        break;\n      default:\n        throw new Error(`unexpected command for audio source: \"${cmd.do}\"`);\n    }\n\n    if (loop !== undefined) {\n      audioController.loop(target, loop);\n    }\n\n    const returnObj: Runner.CommandReturn = {};\n\n    return Promise.resolve(returnObj);\n  }}\n}\n\nexport const audioVolumeFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  const baseEl = input.settings.baseContainer as HTMLElement;\n  audioController.createPlayers(baseEl);\n\n  return {\n    'audioVolume': (cmd: ICommand.AudioVolume) => {\n      const returnObj: Runner.CommandReturn = {};\n\n      if (cmd.time) {\n        audioController.volume(cmd.target, cmd.volume, cmd.time)\n      } else {\n        audioController.volume(cmd.target, cmd.volume)\n      }\n\n      return Promise.resolve(returnObj);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-commands/audio/audio-commands.ts","import { wait } from '../../../utils';\n\nfunction createAudioPlayer(id: string): HTMLAudioElement {\n  const player = document.createElement('audio');\n  player.id = id;\n  return player;\n}\n\nclass AudioController {\n  public _fadeInterval = 200;\n  private baseElement: HTMLElement = document.body;\n\n  private players = {\n    bg: createAudioPlayer('IV-audio-player-bg'),\n    sfx: createAudioPlayer('IV-audio-player-sfx'),\n  }\n\n  public play(playerName: ICommand.AudioSource['target'], url?: string): Promise<any> {\n    const player = this.getPlayerNamed(playerName);\n    if (url && player.src !== url) {\n      player.src = url;\n    }\n    player.play();\n    return this.whenPlayerEnds(player);\n  }\n\n  public pause(playerName: ICommand.AudioSource['target']): Promise<any> {\n    const player = this.getPlayerNamed(playerName);\n    player.pause();\n    return Promise.resolve('audio paused');\n  }\n\n  public load(playerName: ICommand.AudioSource['target'], url: string): Promise<any> {\n    const player = this.getPlayerNamed(playerName);\n    if (url && player.src !== url) {\n      player.src = url;\n    }\n    return this.whenPlayerLoads(player);\n  }\n\n  public loop(playerName: ICommand.AudioSource['target'], loop: boolean): void {\n    this.getPlayerNamed(playerName).loop = loop;\n  }\n\n  public volume(playerName, volume, time?): Promise<any> {\n    const player = this.getPlayerNamed(playerName);\n    if (time && time > this._fadeInterval) {\n      this.fadeOverTime(player, volume, time);\n    } else {\n      player.volume = volume;\n    }\n    return Promise.resolve('audio volume adjusted');\n  }\n\n  private async fadeOverTime(player, desiredVolume, time) {\n    const startTime = Date.now();\n    const startVolume = player.volume;\n    const totalAdjustment = desiredVolume - startVolume;\n    let currentPercent = 0;\n\n    function percentComplete() {\n      const traveled = Date.now() - startTime;\n      currentPercent = Math.min(traveled / time, 1);\n      return currentPercent;\n    }\n\n    while (currentPercent < 1) {\n      player.volume = startVolume + (totalAdjustment * percentComplete());\n      if (currentPercent === 1) player.volume = desiredVolume;\n      await wait(this._fadeInterval)\n    }\n  }\n\n  private whenPlayerEnds(player: HTMLAudioElement): Promise<any> {\n    return new Promise((resolve) => {\n      const onEnded = () => {\n        resolve('audio ended');\n        player.removeEventListener('ended', onEnded);\n      }\n      player.addEventListener('ended', onEnded);\n    })\n  }\n\n  private whenPlayerLoads(player: HTMLAudioElement): Promise<any> {\n    return new Promise((resolve) => {\n      const onEnded = () => {\n        resolve('audio loaded');\n        player.removeEventListener('loadeddata', onEnded);\n      }\n      player.addEventListener('loadeddata', onEnded);\n    })\n  }\n\n  public createPlayers(baseElement?: HTMLElement): void {\n    this.baseElement = baseElement;\n    this.attachPlayers(); // multiple calls are fine... does not duplicate\n  }\n\n  private attachPlayers() {\n    this.baseElement.appendChild(this.players.bg)\n    this.baseElement.appendChild(this.players.sfx)\n  }\n\n  public getBgPlayer() {\n    return this.players.bg;\n  }\n\n  public getSfxPlayer() {\n    return this.players.sfx;\n  }\n\n  public getPlayerNamed<T extends ICommand.AudioSource['target']>(name: T): HTMLAudioElement {\n    return this.players[name.toLowerCase()]\n  }\n}\n\nexport const audioController = new AudioController();\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-commands/audio/audio-controller.ts","import { buttonsController, IButtonSettings } from './buttons-controller';\n\nexport const addButtonFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  const baseEl = input.settings.baseContainer as HTMLElement;\n\n  return {'addButton': (cmd: ICommand.AddButton) => {\n    const settings: IButtonSettings = {\n      onClick: () => input.commandEngine.runCommands(cmd.onClick),\n      text: cmd.text,\n      id: cmd.id,\n    };\n    buttonsController.createButton(settings, baseEl)\n    return Promise.resolve({});\n  }}\n}\n\nexport const removeButtonFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  const baseEl = input.settings.baseContainer as HTMLElement;\n\n  return {'removeButton': (cmd: ICommand.RemoveButton) => {\n    buttonsController.removeButton(cmd.id)\n    return Promise.resolve({});\n  }}\n}\n\nexport const removeAllButtonsFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  const baseEl = input.settings.baseContainer as HTMLElement;\n\n  return {'removeAllButtons': (cmd: ICommand.RemoveAllButtons) => {\n    buttonsController.removeAllButtons();\n    return Promise.resolve({});\n  }}\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-commands/buttons/button-commands.ts","import { traverseObject } from 'happy-helpers';\nimport { defaults } from '../../../config';\nimport { nearClone, directDescendants } from '../../../utils'\n\nexport interface IButtonSettings {\n  text: string;\n  onClick(): any;\n  [s:string]: any;\n}\n\nclass ButtonsController {\n  private allButtons: HTMLButtonElement[] = [];\n\n  public createButton(\n    settings: IButtonSettings,\n    element?: HTMLElement\n  ): HTMLButtonElement {\n    const button = this.newButton(settings);\n    this.addToButtonStore(button);\n    this.appendToDocument(button, element);\n    return button;\n  }\n\n  public removeAllButtons() {\n    this.allButtons = this.allButtons.reduce((a, b) => {\n      b.remove();\n      return a;\n    }, [])\n  }\n\n  public removeButton(id: string) {\n    this.allButtons.filter(b => b.id === id)\n      .forEach(b => b.remove());\n  }\n\n  private newButton(settings: IButtonSettings): HTMLButtonElement {\n    const button = document.createElement('button');\n    this.applySettingsToButton(button, settings);\n    return button;\n  }\n\n  private applySettingsToButton(button: HTMLButtonElement, settings: IButtonSettings) {\n    const attrs: any = nearClone(settings);\n\n    attrs.onclick = attrs.onClick;\n    delete attrs.onClick;\n\n    button.innerHTML = attrs.text\n    delete attrs.text;\n\n    traverseObject(attrs, (prop, value) => {\n      button[prop] = value\n    }, false, false)\n  }\n\n  private addToButtonStore(button: HTMLButtonElement) {\n    this.allButtons.push(button);\n  }\n\n  private appendToDocument(button: HTMLButtonElement, parentEl?: HTMLElement) {\n    const container = this.getContainer(parentEl);\n    container.appendChild(button);\n  }\n\n  private getContainer(parentEl?: HTMLElement): HTMLElement {\n    const parent = parentEl || this.baseElement();\n    const foundContainer = directDescendants(parent, `.${defaults.buttonContainerClass}`)[0]\n    if (foundContainer) return foundContainer;\n\n    const newContainer = document.createElement('div');\n    newContainer.setAttribute('class', defaults.buttonContainerClass);\n    parent.appendChild(newContainer);\n    return newContainer;\n  }\n\n  private baseElement(): HTMLElement {\n    return document.getElementById(defaults.baseElementId);\n  }\n\n}\n\nexport const buttonsController = new ButtonsController();\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/dom-commands/buttons/buttons-controller.ts","export * from './assign-variable';\nexport * from './assign-from-variable';\nexport * from './get-random-number';\nexport * from './switch';\nexport * from './calculate';\nexport * from './go-to-node';\nexport * from './stop-execution';\nexport * from './pause-execution';\nexport * from './execute-sync';\nexport * from './execute-async';\nexport * from './wait';\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/index.ts","export const assignVariableFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'assignVariable': (cmd: ICommand.AssignVariable) => {\n      input.variables[cmd.assignTo] = cmd.value;\n      return Promise.resolve({});\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/assign-variable.ts","export const assignFromVariableFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'assignFromVariable': (cmd: ICommand.AssignFromVariable) => {\n      input.variables[cmd.assignTo] = input.variables[cmd.varName];\n      return Promise.resolve({});\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/assign-from-variable.ts","import { getRandomInt } from '../../utils';\n\nexport const getRandomNumberFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'getRandomNumber':\n      (cmd: ICommand.GetRandomNumber) =>\n        Promise.resolve(getRandomNumber(input, cmd))\n  }\n}\n\nexport function getRandomNumber(\n  given: CommandEngine.TargetFunctionFactoryInput,\n  cmd: ICommand.GetRandomNumber\n): Runner.CommandReturn {\n\n  given.variables[cmd.assignTo] = getRandomInt(cmd.min, cmd.max);\n  return {};\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/get-random-number.ts","export const switchFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'switch':\n      (cmd: ICommand.Switch) =>\n        Promise.resolve(doSwitch(input, cmd))\n  }\n}\n\nexport function doSwitch(\n  given: CommandEngine.TargetFunctionFactoryInput,\n  cmd: ICommand.Switch\n): Runner.CommandReturn {\n  const { variables } = given;\n  let winningCommands;\n  cmd.do.forEach(condition => {\n    if (winningCommands) return;\n    winningCommands = winningCommandsOrNull(condition, variables)\n  })\n  let commands = winningCommands || cmd.defaultCommands\n  return {commands};\n}\n\nfunction winningCommandsOrNull(\n  condition: SwitchDo.Any,\n  variables: CommandEngine.TargetFunctionFactoryInput['variables'],\n): SwitchDo.Base['commands'] | null {\n  const operator = determineOperator(condition);\n  const variable = variables[condition.varName];\n  const operand = condition[operator]\n  if (checkCondition(operator, variable, operand)) {\n    return condition.commands;\n  }\n  return null;\n}\n\nfunction lowest(arr: number[]) {\n  return Math.min(...arr)\n}\n\nfunction highest(arr: number[]) {\n  return Math.max(...arr)\n}\n\nconst operatorFunctions = {\n  is: (variable, operand) => variable === operand,\n  isGreaterThan: (variable, operand) => variable > operand,\n  isLessThan: (variable, operand) => variable < operand,\n  isGreaterThanOrEqualTo: (variable, operand) => variable >= operand,\n  isLessThanOrEqualTo: (variable, operand) => variable <= operand,\n  isBetween: (variable, arr) => (lowest(arr) <= variable) && (variable <= highest(arr))\n}\n\nfunction determineOperator(singleDo: SwitchDo.Any): string {\n  for (const prop in singleDo) {\n    if (operatorFunctions.hasOwnProperty(prop)) {\n      return prop;\n    }\n  }\n\n  const unusedProps = [];\n  for (const unusedProp in singleDo) {\n    if (singleDo.hasOwnProperty(unusedProp)) {\n      unusedProps.push(unusedProp);\n    }\n  }\n  throw new Error(`could not find a valid operator in switch.do. Given these possibilities: ${unusedProps.join(', ')}`)\n}\n\nfunction checkCondition(operator, variable, operand): boolean {\n  const opFunc = operatorFunctions[operator];\n  return opFunc(variable, operand);\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/switch.ts","export const calculateFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'calculate':\n      (cmd: ICommand.Calculate) =>\n        Promise.resolve(doCalculate(input, cmd))\n  }\n}\n\nexport function doCalculate(\n  given: CommandEngine.TargetFunctionFactoryInput,\n  cmd: ICommand.Calculate\n): Runner.CommandReturn {\n  const { variables } = given;\n  const { operation, varName, value, assignTo } = cmd;\n  const startingValue = variables[varName]\n  variables[assignTo] = \n    getOperation(operation)(startingValue, value)\n  return {};\n}\n\nconst operations = {\n  add: (val1, val2) => val1 + val2,\n  subtract: (val1, val2) => val1 - val2,\n  multiply: (val1, val2) => val1 * val2,\n  divide: (val1, val2) => val1 / val2,\n  divideThenRemainder: (val1, val2) => val1 % val2,\n  divideThenRoundDown: (val1, val2) => Math.floor(val1 / val2),\n  divideThenRoundUp: (val1, val2) => Math.ceil(val1 / val2),\n  divideThenRound: (val1, val2) => Math.round(val1 / val2),\n  round: (val1) => Math.round(val1),\n  roundUp: (val1) => Math.ceil(val1),\n  roundDown: (val1) => Math.floor(val1),\n}\n\nfunction getOperation(operator: string) {\n  const theOperation = operations[operator];\n  if (!theOperation) {\n    throw new Error(`There is no \"${operator}\" operator in the calculate command`);\n  }\n  return theOperation;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/calculate.ts","export const goToNodeFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'goToNode': (cmd: ICommand.GoToNode) => {\n      input.commandEngine.runNodeByName(cmd.nodeName);\n      return Promise.resolve({});\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/go-to-node.ts","export const stopExecutionFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'stopExecution': (cmd: ICommand.StopExecution) => {\n      const returnObj: Runner.CommandReturn = {\n        requests: ['exit'],\n      };\n      return Promise.resolve(returnObj);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/stop-execution.ts","export const pauseExecutionFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'pauseExecution': (cmd: ICommand.PauseExecution) => {\n      const returnObj: Runner.CommandReturn = {\n        requests: ['pause'],\n      };\n      return Promise.resolve(returnObj);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/pause-execution.ts","export const executeSyncFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'executeSync': (cmd: ICommand.ExecuteSync) => {\n      const returnObj: Runner.CommandReturn = { };\n      return new Promise(async (resolve) => {\n        (await input.commandEngine.runNodeByName(cmd.nodeName)).once('done', () => resolve(returnObj))\n      });\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/execute-sync.ts","export const executeAsyncFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'executeAsync': (cmd: ICommand.ExecuteAsync) => {\n      const returnObj: Runner.CommandReturn = { };\n      input.commandEngine.runNodeByName(cmd.nodeName)\n      return Promise.resolve(returnObj);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/execute-async.ts","export const waitFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n\n  return {\n    'wait': (cmd: ICommand.Wait) => {\n      const returnObj: Runner.CommandReturn = { };\n      \n      return new Promise(resolve => {\n        setTimeout(() => resolve(returnObj), cmd.time)\n      });\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/general-commands/wait.ts","export * from './log';\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/log-commands/index.ts","import { CommandRunner } from '../command-runner';\n\nexport const logFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n  return {\n    'log': (cmd: ICommand.Log) => {\n      if (cmd.value == null) {\n        console.log(input.variables);\n      } else {\n        console.log(cmd.value)\n      }\n      return Promise.resolve({});\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/log-commands/log.ts","export * from './execute-js'\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/unserializable-commands/index.ts","export const executeJsFactory: CommandEngine.TargetFunctionFactory = (input): Runner.TargetFunctionObject => {\n  return {\n    'executeJs': (cmd: ICommand.ExecuteJs) => {\n      return Promise.resolve(cmd.func()).then(() => ({}));\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/tslint-loader!./scripts/lib/command-engine/unserializable-commands/execute-js.ts","module.exports = (function (nav) {\n    isMobile = function () {\n        var check = false;\n        if (\n            /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(nav) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(nav.substr(0, 4))\n        ) check = true;\n        return check;\n    };\n\n    isMobileOrTablet = function () {\n        var check = false;\n        if (\n            /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(nav) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(nav.substr(0, 4))\n        ) check = true;\n        return check;\n    };\n\n    return {\n        isMobile: isMobile,\n        isMobileOrTablet: isMobileOrTablet\n    }\n\n}(navigator.userAgent || navigator.vendor || window.opera));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/mobile-detector/index.js\n// module id = 40\n// module chunks = 0 1"],"sourceRoot":""}